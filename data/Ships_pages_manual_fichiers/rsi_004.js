!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=141)}([function(t,e,i){"use strict";var n=i(2),o=i(18).find,s=i(78),r=i(14),a=!0,c=r("find");"find"in[]&&Array(1).find((function(){a=!1})),n({target:"Array",proto:!0,forced:a||!c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),s("find")},function(t,e,i){var n=i(3),o=i(47),s=i(6),r=i(48),a=i(53),c=i(77),l=o("wks"),d=n.Symbol,h=c?d:d&&d.withoutSetter||r;t.exports=function(t){return s(l,t)||(a&&s(d,t)?l[t]=d[t]:l[t]=h("Symbol."+t)),l[t]}},function(t,e,i){var n=i(3),o=i(36).f,s=i(12),r=i(16),a=i(46),c=i(69),l=i(51);t.exports=function(t,e){var i,d,h,u,f,m=t.target,p=t.global,g=t.stat;if(i=p?n:g?n[m]||a(m,{}):(n[m]||{}).prototype)for(d in e){if(u=e[d],h=t.noTargetGet?(f=o(i,d))&&f.value:i[d],!l(p?d:m+(g?".":"#")+d,t.forced)&&void 0!==h){if(typeof u==typeof h)continue;c(u,h)}(t.sham||h&&h.sham)&&s(u,"sham",!0),r(i,d,u,t)}}},function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||Function("return this")()}).call(this,i(99))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n=i(2),o=i(3),s=i(79),r=[].slice,a=function(t){return function(e,i){var n=arguments.length>2,o=n?r.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,i)}};n({global:!0,bind:!0,forced:/MSIE .\./.test(s)},{setTimeout:a(o.setTimeout),setInterval:a(o.setInterval)})},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(11);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,i){var n=i(9),o=i(65),s=i(7),r=i(27),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(s(t),e=r(e,!0),s(i),o)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(4);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,i){"use strict";var n=i(2),o=i(41);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n=i(9),o=i(8),s=i(26);t.exports=n?function(t,e,i){return o.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var n=i(9),o=i(4),s=i(6),r=Object.defineProperty,a={},c=function(t){throw t};t.exports=function(t,e){if(s(a,t))return a[t];e||(e={});var i=[][t],l=!!s(e,"ACCESSORS")&&e.ACCESSORS,d=s(e,0)?e[0]:c,h=s(e,1)?e[1]:void 0;return a[t]=!!i&&!o((function(){if(l&&!n)return!0;var t={length:-1};l?r(t,1,{enumerable:!0,get:c}):t[1]=1,i.call(t,d,h)}))}},function(t,e,i){var n=i(45),o=i(13);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(3),o=i(12),s=i(6),r=i(46),a=i(67),c=i(28),l=c.get,d=c.enforce,h=String(String).split("String");(t.exports=function(t,e,i,a){var c=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||s(i,"name")||o(i,"name",e),d(i).source=h.join("string"==typeof e?e:"")),t!==n?(c?!u&&t[e]&&(l=!0):delete t[e],l?t[e]=i:o(t,e,i)):l?t[e]=i:r(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},function(t,e,i){var n=i(23),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,i){var n=i(74),o=i(45),s=i(19),r=i(17),a=i(76),c=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,d=4==t,h=6==t,u=5==t||h;return function(f,m,p,g){for(var v,b,w=s(f),y=o(w),_=n(m,p,3),C=r(y.length),S=0,x=g||a,T=e?x(f,C):i?x(f,0):void 0;C>S;S++)if((u||S in y)&&(b=_(v=y[S],S,w),t))if(e)T[S]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:c.call(T,v)}else if(d)return!1;return h?-1:l||d?d:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(t,e,i){var n=i(13);t.exports=function(t){return Object(n(t))}},function(t,e,i){"use strict";var n=i(2),o=i(83).trim;n({target:"String",proto:!0,forced:i(106)("trim")},{trim:function(){return o(this)}})},function(t,e,i){"use strict";var n=i(2),o=i(72).indexOf,s=i(32),r=i(14),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,l=s("indexOf"),d=r("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(t){return c?a.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){"use strict";var n=i(42),o=i(81),s=i(7),r=i(13),a=i(105),c=i(56),l=i(17),d=i(43),h=i(41),u=i(4),f=[].push,m=Math.min,p=!u((function(){return!RegExp(4294967295,"y")}));n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(r(this)),s=void 0===i?4294967295:i>>>0;if(0===s)return[];if(void 0===t)return[n];if(!o(t))return e.call(n,t,s);for(var a,c,l,d=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,p=new RegExp(t.source,u+"g");(a=h.call(p,n))&&!((c=p.lastIndex)>m&&(d.push(n.slice(m,a.index)),a.length>1&&a.index<n.length&&f.apply(d,a.slice(1)),l=a[0].length,m=c,d.length>=s));)p.lastIndex===a.index&&p.lastIndex++;return m===n.length?!l&&p.test("")||d.push(""):d.push(n.slice(m)),d.length>s?d.slice(0,s):d}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var o=r(this),s=null==e?void 0:e[t];return void 0!==s?s.call(e,o,i):n.call(String(o),e,i)},function(t,o){var r=i(n,t,this,o,n!==e);if(r.done)return r.value;var h=s(t),u=String(this),f=a(h,RegExp),g=h.unicode,v=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(p?"y":"g"),b=new f(p?h:"^(?:"+h.source+")",v),w=void 0===o?4294967295:o>>>0;if(0===w)return[];if(0===u.length)return null===d(b,u)?[u]:[];for(var y=0,_=0,C=[];_<u.length;){b.lastIndex=p?_:0;var S,x=d(b,p?u:u.slice(_));if(null===x||(S=m(l(b.lastIndex+(p?0:_)),u.length))===y)_=c(u,_,g);else{if(C.push(u.slice(y,_)),C.length===w)return C;for(var T=1;T<=x.length-1;T++)if(C.push(x[T]),C.length===w)return C;_=y=S}}return C.push(u.slice(y)),C}]}),!p)},function(t,e,i){"use strict";var n=i(42),o=i(7),s=i(19),r=i(17),a=i(23),c=i(13),l=i(56),d=i(43),h=Math.max,u=Math.min,f=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(t,e,i,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(i,n){var o=c(this),s=null==i?void 0:i[t];return void 0!==s?s.call(i,o,n):e.call(String(o),i,n)},function(t,n){if(!g&&v||"string"==typeof n&&-1===n.indexOf(b)){var s=i(e,t,this,n);if(s.done)return s.value}var c=o(t),f=String(this),m="function"==typeof n;m||(n=String(n));var p=c.global;if(p){var y=c.unicode;c.lastIndex=0}for(var _=[];;){var C=d(c,f);if(null===C)break;if(_.push(C),!p)break;""===String(C[0])&&(c.lastIndex=l(f,r(c.lastIndex),y))}for(var S,x="",T=0,k=0;k<_.length;k++){C=_[k];for(var j=String(C[0]),I=h(u(a(C.index),f.length),0),M=[],R=1;R<C.length;R++)M.push(void 0===(S=C[R])?S:String(S));var A=C.groups;if(m){var L=[j].concat(M,I,f);void 0!==A&&L.push(A);var E=String(n.apply(void 0,L))}else E=w(j,f,I,M,A,n);I>=T&&(x+=f.slice(T,I)+E,T=I+j.length)}return x+f.slice(T)}];function w(t,i,n,o,r,a){var c=n+t.length,l=o.length,d=p;return void 0!==r&&(r=s(r),d=m),e.call(a,d,(function(e,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,n);case"'":return i.slice(c);case"<":a=r[s.slice(1,-1)];break;default:var d=+s;if(0===d)return e;if(d>l){var h=f(d/10);return 0===h?e:h<=l?void 0===o[h-1]?s.charAt(1):o[h-1]+s.charAt(1):e}a=o[d-1]}return void 0===a?"":a}))}}))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(11);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n,o,s,r=i(100),a=i(3),c=i(11),l=i(12),d=i(6),h=i(37),u=i(39),f=a.WeakMap;if(r){var m=new f,p=m.get,g=m.has,v=m.set;n=function(t,e){return v.call(m,t,e),e},o=function(t){return p.call(m,t)||{}},s=function(t){return g.call(m,t)}}else{var b=h("state");u[b]=!0,n=function(t,e){return l(t,b,e),e},o=function(t){return d(t,b)?t[b]:{}},s=function(t){return d(t,b)}}t.exports={set:n,get:o,has:s,enforce:function(t){return s(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!c(e)||(i=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},function(t,e,i){var n=i(70),o=i(3),s=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?s(n[t])||s(o[t]):n[t]&&n[t][e]||o[t]&&o[t][e]}},function(t,e,i){var n=i(71),o=i(50).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){"use strict";var n=i(2),o=i(45),s=i(15),r=i(32),a=[].join,c=o!=Object,l=r("join",",");n({target:"Array",proto:!0,forced:c||!l},{join:function(t){return a.call(s(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(4);t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},function(t,e){t.exports={}},function(t,e,i){var n=i(61),o=i(16),s=i(112);n||o(Object.prototype,"toString",s,{unsafe:!0})},function(t,e,i){"use strict";var n=i(16),o=i(7),s=i(4),r=i(55),a=RegExp.prototype,c=a.toString,l=s((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d="toString"!=c.name;(l||d)&&n(RegExp.prototype,"toString",(function(){var t=o(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in a)?r.call(t):i)}),{unsafe:!0})},function(t,e,i){var n=i(9),o=i(64),s=i(26),r=i(15),a=i(27),c=i(6),l=i(65),d=Object.getOwnPropertyDescriptor;e.f=n?d:function(t,e){if(t=r(t),e=a(e,!0),l)try{return d(t,e)}catch(t){}if(c(t,e))return s(!o.f.call(t,e),t[e])}},function(t,e,i){var n=i(47),o=i(48),s=n("keys");t.exports=function(t){return s[t]||(s[t]=o(t))}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,i){var n,o=i(7),s=i(102),r=i(50),a=i(39),c=i(103),l=i(66),d=i(37),h=d("IE_PROTO"),u=function(){},f=function(t){return"<script>"+t+"<\/script>"},m=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;m=n?function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F);for(var i=r.length;i--;)delete m.prototype[r[i]];return m()};a[h]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(u.prototype=o(t),i=new u,u.prototype=null,i[h]=t):i=m(),void 0===e?i:s(i,e)}},function(t,e,i){"use strict";var n,o,s=i(55),r=i(80),a=RegExp.prototype.exec,c=String.prototype.replace,l=a,d=(n=/a/,o=/b*/g,a.call(n,"a"),a.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),h=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1];(d||u||h)&&(l=function(t){var e,i,n,o,r=this,l=h&&r.sticky,f=s.call(r),m=r.source,p=0,g=t;return l&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),g=String(t).slice(r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&"\n"!==t[r.lastIndex-1])&&(m="(?: "+m+")",g=" "+g,p++),i=new RegExp("^(?:"+m+")",f)),u&&(i=new RegExp("^"+m+"$(?!\\s)",f)),d&&(e=r.lastIndex),n=a.call(l?i:r,g),l?n?(n.input=n.input.slice(p),n[0]=n[0].slice(p),n.index=r.lastIndex,r.lastIndex+=n[0].length):r.lastIndex=0:d&&n&&(r.lastIndex=r.global?n.index+n[0].length:e),u&&n&&n.length>1&&c.call(n[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),t.exports=l},function(t,e,i){"use strict";i(10);var n=i(16),o=i(4),s=i(1),r=i(41),a=i(12),c=s("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d="$0"==="a".replace(/./,"$0"),h=s("replace"),u=!!/./[h]&&""===/./[h]("a","$0"),f=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,h){var m=s(t),p=!o((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),g=p&&!o((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[c]=function(){return i},i.flags="",i[m]=/./[m]),i.exec=function(){return e=!0,null},i[m](""),!e}));if(!p||!g||"replace"===t&&(!l||!d||u)||"split"===t&&!f){var v=/./[m],b=i(m,""[t],(function(t,e,i,n,o){return e.exec===r?p&&!o?{done:!0,value:v.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}),w=b[0],y=b[1];n(String.prototype,t,w),n(RegExp.prototype,m,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}h&&a(RegExp.prototype[m],"sham",!0)}},function(t,e,i){var n=i(22),o=i(41);t.exports=function(t,e){var i=t.exec;if("function"==typeof i){var s=i.call(t,e);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,i){var n=i(4),o=i(1),s=i(115),r=o("species");t.exports=function(t){return s>=51||!n((function(){var e=[];return(e.constructor={})[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,i){var n=i(4),o=i(22),s="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?s.call(t,""):Object(t)}:Object},function(t,e,i){var n=i(3),o=i(12);t.exports=function(t,e){try{o(n,t,e)}catch(i){n[t]=e}return e}},function(t,e,i){var n=i(38),o=i(68);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},function(t,e,i){var n=i(23),o=Math.max,s=Math.min;t.exports=function(t,e){var i=n(t);return i<0?o(i+e,0):s(i,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,i){var n=i(4),o=/#|\.prototype\./,s=function(t,e){var i=a[r(t)];return i==l||i!=c&&("function"==typeof e?n(e):!!e)},r=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},function(t,e,i){var n=i(22);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(4);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(t,e,i){var n=i(71),o=i(50);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){"use strict";var n=i(7);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){"use strict";var n=i(82).charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},function(t,e,i){"use strict";var n=i(2),o=i(3),s=i(29),r=i(38),a=i(9),c=i(53),l=i(77),d=i(4),h=i(6),u=i(52),f=i(11),m=i(7),p=i(19),g=i(15),v=i(27),b=i(26),w=i(40),y=i(54),_=i(30),C=i(107),S=i(73),x=i(36),T=i(8),k=i(64),j=i(12),I=i(16),M=i(47),R=i(37),A=i(39),L=i(48),E=i(1),O=i(85),F=i(86),N=i(58),P=i(28),D=i(18).forEach,B=R("hidden"),V=E("toPrimitive"),U=P.set,H=P.getterFor("Symbol"),z=Object.prototype,$=o.Symbol,W=s("JSON","stringify"),K=x.f,G=T.f,Q=C.f,q=k.f,X=M("symbols"),Y=M("op-symbols"),Z=M("string-to-symbol-registry"),J=M("symbol-to-string-registry"),tt=M("wks"),et=o.QObject,it=!et||!et.prototype||!et.prototype.findChild,nt=a&&d((function(){return 7!=w(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=K(z,e);n&&delete z[e],G(t,e,i),n&&t!==z&&G(z,e,n)}:G,ot=function(t,e){var i=X[t]=w($.prototype);return U(i,{type:"Symbol",tag:t,description:e}),a||(i.description=e),i},st=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof $},rt=function(t,e,i){t===z&&rt(Y,e,i),m(t);var n=v(e,!0);return m(i),h(X,n)?(i.enumerable?(h(t,B)&&t[B][n]&&(t[B][n]=!1),i=w(i,{enumerable:b(0,!1)})):(h(t,B)||G(t,B,b(1,{})),t[B][n]=!0),nt(t,n,i)):G(t,n,i)},at=function(t,e){m(t);var i=g(e),n=y(i).concat(ht(i));return D(n,(function(e){a&&!ct.call(i,e)||rt(t,e,i[e])})),t},ct=function(t){var e=v(t,!0),i=q.call(this,e);return!(this===z&&h(X,e)&&!h(Y,e))&&(!(i||!h(this,e)||!h(X,e)||h(this,B)&&this[B][e])||i)},lt=function(t,e){var i=g(t),n=v(e,!0);if(i!==z||!h(X,n)||h(Y,n)){var o=K(i,n);return!o||!h(X,n)||h(i,B)&&i[B][n]||(o.enumerable=!0),o}},dt=function(t){var e=Q(g(t)),i=[];return D(e,(function(t){h(X,t)||h(A,t)||i.push(t)})),i},ht=function(t){var e=t===z,i=Q(e?Y:g(t)),n=[];return D(i,(function(t){!h(X,t)||e&&!h(z,t)||n.push(X[t])})),n};(c||(I(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=L(t),i=function(t){this===z&&i.call(Y,t),h(this,B)&&h(this[B],e)&&(this[B][e]=!1),nt(this,e,b(1,t))};return a&&it&&nt(z,e,{configurable:!0,set:i}),ot(e,t)}).prototype,"toString",(function(){return H(this).tag})),I($,"withoutSetter",(function(t){return ot(L(t),t)})),k.f=ct,T.f=rt,x.f=lt,_.f=C.f=dt,S.f=ht,O.f=function(t){return ot(E(t),t)},a&&(G($.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),r||I(z,"propertyIsEnumerable",ct,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:$}),D(y(tt),(function(t){F(t)})),n({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=String(t);if(h(Z,e))return Z[e];var i=$(e);return Z[e]=i,J[i]=e,i},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(h(J,t))return J[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!a},{create:function(t,e){return void 0===e?w(t):at(w(t),e)},defineProperty:rt,defineProperties:at,getOwnPropertyDescriptor:lt}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:d((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(p(t))}}),W)&&n({target:"JSON",stat:!0,forced:!c||d((function(){var t=$();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t,e,i){for(var n,o=[t],s=1;arguments.length>s;)o.push(arguments[s++]);if(n=e,(f(e)||void 0!==t)&&!st(t))return u(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!st(e))return e}),o[1]=e,W.apply(null,o)}});$.prototype[V]||j($.prototype,V,$.prototype.valueOf),N($,"Symbol"),A[B]=!0},function(t,e,i){var n=i(8).f,o=i(6),s=i(1)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},function(t,e,i){"use strict";var n=i(2),o=i(9),s=i(3),r=i(6),a=i(11),c=i(8).f,l=i(69),d=s.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var h={},u=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof u?new d(t):void 0===t?d():d(t);return""===t&&(h[e]=!0),e};l(u,d);var f=u.prototype=d.prototype;f.constructor=u;var m=f.toString,p="Symbol(test)"==String(d("test")),g=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=m.call(t);if(r(h,t))return"";var i=p?e.slice(7,-1):e.replace(g,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:u})}},function(t,e,i){"use strict";var n=i(15),o=i(78),s=i(33),r=i(28),a=i(87),c=r.set,l=r.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},function(t,e,i){var n={};n[i(1)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,i){"use strict";var n=i(2),o=i(11),s=i(52),r=i(49),a=i(17),c=i(15),l=i(63),d=i(1),h=i(44),u=i(14),f=h("slice"),m=u("slice",{ACCESSORS:!0,0:0,1:2}),p=d("species"),g=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!f||!m},{slice:function(t,e){var i,n,d,h=c(this),u=a(h.length),f=r(t,u),m=r(void 0===e?u:e,u);if(s(h)&&("function"!=typeof(i=h.constructor)||i!==Array&&!s(i.prototype)?o(i)&&null===(i=i[p])&&(i=void 0):i=void 0,i===Array||void 0===i))return g.call(h,f,m);for(n=new(void 0===i?Array:i)(v(m-f,0)),d=0;f<m;f++,d++)f in h&&l(n,d,h[f]);return n.length=d,n}})},function(t,e,i){"use strict";var n=i(27),o=i(8),s=i(26);t.exports=function(t,e,i){var r=n(e);r in t?o.f(t,r,s(0,i)):t[r]=i}},function(t,e,i){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!n.call({1:2},1);e.f=s?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},function(t,e,i){var n=i(9),o=i(4),s=i(66);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(3),o=i(11),s=n.document,r=o(s)&&o(s.createElement);t.exports=function(t){return r?s.createElement(t):{}}},function(t,e,i){var n=i(68),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return o.call(t)}),t.exports=n.inspectSource},function(t,e,i){var n=i(3),o=i(46),s=n["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=s},function(t,e,i){var n=i(6),o=i(101),s=i(36),r=i(8);t.exports=function(t,e){for(var i=o(e),a=r.f,c=s.f,l=0;l<i.length;l++){var d=i[l];n(t,d)||a(t,d,c(e,d))}}},function(t,e,i){var n=i(3);t.exports=n},function(t,e,i){var n=i(6),o=i(15),s=i(72).indexOf,r=i(39);t.exports=function(t,e){var i,a=o(t),c=0,l=[];for(i in a)!n(r,i)&&n(a,i)&&l.push(i);for(;e.length>c;)n(a,i=e[c++])&&(~s(l,i)||l.push(i));return l}},function(t,e,i){var n=i(15),o=i(17),s=i(49),r=function(t){return function(e,i,r){var a,c=n(e),l=o(c.length),d=s(r,l);if(t&&i!=i){for(;l>d;)if((a=c[d++])!=a)return!0}else for(;l>d;d++)if((t||d in c)&&c[d]===i)return t||d||0;return!t&&-1}};t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(75);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,i){var n=i(11),o=i(52),s=i(1)("species");t.exports=function(t,e){var i;return o(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!o(i.prototype)?n(i)&&null===(i=i[s])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},function(t,e,i){var n=i(53);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,i){var n=i(1),o=i(40),s=i(8),r=n("unscopables"),a=Array.prototype;null==a[r]&&s.f(a,r,{configurable:!0,value:o(null)}),t.exports=function(t){a[r][t]=!0}},function(t,e,i){var n=i(29);t.exports=n("navigator","userAgent")||""},function(t,e,i){"use strict";var n=i(4);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,i){var n=i(11),o=i(22),s=i(1)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==o(t))}},function(t,e,i){var n=i(23),o=i(13),s=function(t){return function(e,i){var s,r,a=String(o(e)),c=n(i),l=a.length;return c<0||c>=l?t?"":void 0:(s=a.charCodeAt(c))<55296||s>56319||c+1===l||(r=a.charCodeAt(c+1))<56320||r>57343?t?a.charAt(c):s:t?a.slice(c,c+2):r-56320+(s-55296<<10)+65536}};t.exports={codeAt:s(!1),charAt:s(!0)}},function(t,e,i){var n=i(13),o="["+i(84)+"]",s=RegExp("^"+o+o+"*"),r=RegExp(o+o+"*$"),a=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(s,"")),2&t&&(i=i.replace(r,"")),i}};t.exports={start:a(1),end:a(2),trim:a(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,i){var n=i(1);e.f=n},function(t,e,i){var n=i(70),o=i(6),s=i(85),r=i(8).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||r(e,t,{value:s.f(t)})}},function(t,e,i){"use strict";var n=i(2),o=i(109),s=i(89),r=i(90),a=i(58),c=i(12),l=i(16),d=i(1),h=i(38),u=i(33),f=i(88),m=f.IteratorPrototype,p=f.BUGGY_SAFARI_ITERATORS,g=d("iterator"),v=function(){return this};t.exports=function(t,e,i,d,f,b,w){o(i,e,d);var y,_,C,S=function(t){if(t===f&&I)return I;if(!p&&t in k)return k[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},x=e+" Iterator",T=!1,k=t.prototype,j=k[g]||k["@@iterator"]||f&&k[f],I=!p&&j||S(f),M="Array"==e&&k.entries||j;if(M&&(y=s(M.call(new t)),m!==Object.prototype&&y.next&&(h||s(y)===m||(r?r(y,m):"function"!=typeof y[g]&&c(y,g,v)),a(y,x,!0,!0),h&&(u[x]=v))),"values"==f&&j&&"values"!==j.name&&(T=!0,I=function(){return j.call(this)}),h&&!w||k[g]===I||c(k,g,I),u[e]=I,f)if(_={values:S("values"),keys:b?I:S("keys"),entries:S("entries")},w)for(C in _)(p||T||!(C in k))&&l(k,C,_[C]);else n({target:e,proto:!0,forced:p||T},_);return _}},function(t,e,i){"use strict";var n,o,s,r=i(89),a=i(12),c=i(6),l=i(1),d=i(38),h=l("iterator"),u=!1;[].keys&&("next"in(s=[].keys())?(o=r(r(s)))!==Object.prototype&&(n=o):u=!0),null==n&&(n={}),d||c(n,h)||a(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:u}},function(t,e,i){var n=i(6),o=i(19),s=i(37),r=i(110),a=s("IE_PROTO"),c=Object.prototype;t.exports=r?Object.getPrototypeOf:function(t){return t=o(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,i){var n=i(7),o=i(111);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,s){return n(i),o(s),e?t.call(i,s):i.__proto__=s,i}}():void 0)},function(t,e,i){var n=i(61),o=i(22),s=i(1)("toStringTag"),r="Arguments"==o(function(){return arguments}());t.exports=n?o:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?i:r?o(e):"Object"==(n=o(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,i){"use strict";var n=i(82).charAt,o=i(28),s=i(87),r=o.set,a=o.getterFor("String Iterator");s(String,"String",(function(t){r(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=a(this),i=e.string,o=e.index;return o>=i.length?{value:void 0,done:!0}:(t=n(i,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,i){var n=i(3),o=i(94),s=i(60),r=i(12),a=i(1),c=a("iterator"),l=a("toStringTag"),d=s.values;for(var h in o){var u=n[h],f=u&&u.prototype;if(f){if(f[c]!==d)try{r(f,c,d)}catch(t){f[c]=d}if(f[l]||r(f,l,h),o[h])for(var m in s)if(f[m]!==s[m])try{r(f,m,s[m])}catch(t){f[m]=s[m]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,i){"use strict";var n=i(9),o=i(3),s=i(51),r=i(16),a=i(6),c=i(22),l=i(96),d=i(27),h=i(4),u=i(40),f=i(30).f,m=i(36).f,p=i(8).f,g=i(83).trim,v=o.Number,b=v.prototype,w="Number"==c(u(b)),y=function(t){var e,i,n,o,s,r,a,c,l=d(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=g(l)).charCodeAt(0))||45===e){if(88===(i=l.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+l}for(r=(s=l.slice(2)).length,a=0;a<r;a++)if((c=s.charCodeAt(a))<48||c>o)return NaN;return parseInt(s,n)}return+l};if(s("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var _,C=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof C&&(w?h((function(){b.valueOf.call(i)})):"Number"!=c(i))?l(new v(y(e)),i,C):y(e)},S=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;S.length>x;x++)a(v,_=S[x])&&!a(C,_)&&p(C,_,m(v,_));C.prototype=b,b.constructor=C,r(o,"Number",C)}},function(t,e,i){var n=i(11),o=i(90);t.exports=function(t,e,i){var s,r;return o&&"function"==typeof(s=e.constructor)&&s!==i&&n(r=s.prototype)&&r!==i.prototype&&o(t,r),t}},function(t,e,i){"use strict";var n=i(2),o=i(18).map,s=i(44),r=i(14),a=s("map"),c=r("map");n({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(18).forEach,o=i(32),s=i(14),r=o("forEach"),a=s("forEach");t.exports=r&&a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var n=i(3),o=i(67),s=n.WeakMap;t.exports="function"==typeof s&&/native code/.test(o(s))},function(t,e,i){var n=i(29),o=i(30),s=i(73),r=i(7);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(r(t)),i=s.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(9),o=i(8),s=i(7),r=i(54);t.exports=n?Object.defineProperties:function(t,e){s(t);for(var i,n=r(e),a=n.length,c=0;a>c;)o.f(t,i=n[c++],e[i]);return t}},function(t,e,i){var n=i(29);t.exports=n("document","documentElement")},function(t,e,i){var n=i(9),o=i(8).f,s=Function.prototype,r=s.toString,a=/^\s*function ([^ (]*)/;n&&!("name"in s)&&o(s,"name",{configurable:!0,get:function(){try{return r.call(this).match(a)[1]}catch(t){return""}}})},function(t,e,i){var n=i(7),o=i(75),s=i(1)("species");t.exports=function(t,e){var i,r=n(t).constructor;return void 0===r||null==(i=n(r)[s])?e:o(i)}},function(t,e,i){var n=i(4),o=i(84);t.exports=function(t){return n((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},function(t,e,i){var n=i(15),o=i(30).f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==s.call(t)?function(t){try{return o(t)}catch(t){return r.slice()}}(t):o(n(t))}},function(t,e,i){i(86)("iterator")},function(t,e,i){"use strict";var n=i(88).IteratorPrototype,o=i(40),s=i(26),r=i(58),a=i(33),c=function(){return this};t.exports=function(t,e,i){var l=e+" Iterator";return t.prototype=o(n,{next:s(1,i)}),r(t,l,!1,!0),a[l]=c,t}},function(t,e,i){var n=i(4);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,i){var n=i(11);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,i){"use strict";var n=i(61),o=i(91);t.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,i){i(2)({target:"String",proto:!0},{repeat:i(114)})},function(t,e,i){"use strict";var n=i(23),o=i(13);t.exports="".repeat||function(t){var e=String(o(this)),i="",s=n(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(i+=e);return i}},function(t,e,i){var n,o,s=i(3),r=i(79),a=s.process,c=a&&a.versions,l=c&&c.v8;l?o=(n=l.split("."))[0]+n[1]:r&&(!(n=r.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=r.match(/Chrome\/(\d+)/))&&(o=n[1]),t.exports=o&&+o},function(t,e,i){"use strict";var n=i(2),o=i(18).some,s=i(32),r=i(14),a=s("some"),c=r("some");n({target:"Array",proto:!0,forced:!a||!c},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(2),o=i(19),s=i(54);n({target:"Object",stat:!0,forced:i(4)((function(){s(1)}))},{keys:function(t){return s(o(t))}})},function(t,e){!function(t){RSI=window.RSI||{},RSI.Parallax=Turbulent.Object.extend({init:function(t){this._super();var e=t.xpos,i=t.speedFactor,n=t.outerHeight,o=t.elem;this.initParallax(o,e,i,n)},initParallax:function(e,i,n,o){var s,r,a=e;function c(){var e=t(window).scrollTop();a.each((function(){var o=t(this),c=o.offset().top;c+s(o)<e||c>e+t(window).height()||a.css({transform:"translate3d("+i+","+Math.round((r-e)*n)+"px, 0px)"})}))}a.each((function(){r=a.offset().top})),s=o?function(t){return t.outerHeight(!0)}:function(t){return t.height()},t(window).bind("scroll",c).resize(c),c()}})}(jQuery)},function(t,e){!function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.SlideshowLightbox=RSI.Lightbox.extend({init:function(e){this._super(e),this.carousel=new RSI.FullCarousel({holder:t(".slideshow-lightbox .content .mask .slideshow-carousel"),prevButton:t(".slideshow-lightbox .content .js-prev"),nextButton:t(".slideshow-lightbox .content .js-next"),circular:!0,fitScreen:!0,margin_width_percentage:.1,needToLoadImg:!0}),this.resizeMask(),this.bindLightbox()},bindLightbox:function(){t(window).unbind("resize",this.bindMethod(this.onWindowResize)).bind("resize",this.bindMethod(this.onWindowResize)),t(document).unbind("keydown",this.bindMethod(this.onKeydownPress)).bind("keydown",this.bindMethod(this.onKeydownPress))},onKeydownPress:function(t){37==t.keyCode&&this.carousel.moveToPrev(),39==t.keyCode&&this.carousel.moveToNext(),27==t.keyCode&&this.hide()},onWindowResize:function(t){this.resizeMask()},resizeMask:function(){t(".slideshow-lightbox .content .mask").height(.9*t(window).height()-t(".slideshow-lightbox .content .top-border").height()-t(".slideshow-lightbox .content .bottom-border").height())},fadeOut:function(){var t=document.getElementById("swf_video_"+(this.carousel.index-1));t&&void 0!==t.onPause&&t.onPause(),this._super()}})}(jQuery)},function(t,e,i){var n=i(2),o=i(121);n({target:"Array",stat:!0,forced:!i(125)((function(t){Array.from(t)}))},{from:o})},function(t,e,i){"use strict";var n=i(74),o=i(19),s=i(122),r=i(123),a=i(17),c=i(63),l=i(124);t.exports=function(t){var e,i,d,h,u,f,m=o(t),p="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,b=void 0!==v,w=l(m),y=0;if(b&&(v=n(v,g>2?arguments[2]:void 0,2)),null==w||p==Array&&r(w))for(i=new p(e=a(m.length));e>y;y++)f=b?v(m[y],y):m[y],c(i,y,f);else for(u=(h=w.call(m)).next,i=new p;!(d=u.call(h)).done;y++)f=b?s(h,v,[d.value,y],!0):d.value,c(i,y,f);return i.length=y,i}},function(t,e,i){var n=i(7);t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(e){var s=t.return;throw void 0!==s&&n(s.call(t)),e}}},function(t,e,i){var n=i(1),o=i(33),s=n("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||r[s]===t)}},function(t,e,i){var n=i(91),o=i(33),s=i(1)("iterator");t.exports=function(t){if(null!=t)return t[s]||t["@@iterator"]||o[n(t)]}},function(t,e,i){var n=i(1)("iterator"),o=!1;try{var s=0,r={next:function(){return{done:!!s++}},return:function(){o=!0}};r[n]=function(){return this},Array.from(r,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var s={};s[n]=function(){return{next:function(){return{done:i=!0}}}},t(s)}catch(t){}return i}},function(t,e,i){"use strict";var n=i(2),o=i(98);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,e,i){"use strict";var n=i(2),o=i(49),s=i(23),r=i(17),a=i(19),c=i(76),l=i(63),d=i(44),h=i(14),u=d("splice"),f=h("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,p=Math.min;n({target:"Array",proto:!0,forced:!u||!f},{splice:function(t,e){var i,n,d,h,u,f,g=a(this),v=r(g.length),b=o(t,v),w=arguments.length;if(0===w?i=n=0:1===w?(i=0,n=v-b):(i=w-2,n=p(m(s(e),0),v-b)),v+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(d=c(g,n),h=0;h<n;h++)(u=b+h)in g&&l(d,h,g[u]);if(d.length=n,i<n){for(h=b;h<v-n;h++)f=h+i,(u=h+n)in g?g[f]=g[u]:delete g[f];for(h=v;h>v-n+i;h--)delete g[h-1]}else if(i>n)for(h=v-n;h>b;h--)f=h+i-1,(u=h+n-1)in g?g[f]=g[u]:delete g[f];for(h=0;h<i;h++)g[h+b]=arguments[h+2];return g.length=v-n+i,d}})},function(t,e,i){var n=i(3),o=i(94),s=i(98),r=i(12);for(var a in o){var c=n[a],l=c&&c.prototype;if(l&&l.forEach!==s)try{r(l,"forEach",s)}catch(t){l.forEach=s}}},function(t,e){window.addEventListener("load",(function(){Vue.component("c-unsupported-browser",{template:'\n  <div v-if="isUnsupported" class="c-unsupportedBrowser">\n    <slot></slot>\n  </div>\n    ',data:function(){var t=window.navigator.userAgent;return{isUnsupported:/MSIE|Trident/.test(t)}}})}))},function(t,e,i){var n=i(9),o=i(3),s=i(51),r=i(96),a=i(8).f,c=i(30).f,l=i(81),d=i(55),h=i(80),u=i(16),f=i(4),m=i(28).set,p=i(131),g=i(1)("match"),v=o.RegExp,b=v.prototype,w=/a/g,y=/a/g,_=new v(w)!==w,C=h.UNSUPPORTED_Y;if(n&&s("RegExp",!_||C||f((function(){return y[g]=!1,v(w)!=w||v(y)==y||"/a/i"!=v(w,"i")})))){for(var S=function(t,e){var i,n=this instanceof S,o=l(t),s=void 0===e;if(!n&&o&&t.constructor===S&&s)return t;_?o&&!s&&(t=t.source):t instanceof S&&(s&&(e=d.call(t)),t=t.source),C&&(i=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=r(_?new v(t,e):v(t,e),n?this:b,S);return C&&i&&m(a,{sticky:i}),a},x=function(t){t in S||a(S,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},T=c(v),k=0;T.length>k;)x(T[k++]);b.constructor=S,S.prototype=b,u(o,"RegExp",S)}p("RegExp")},function(t,e,i){"use strict";var n=i(29),o=i(8),s=i(1),r=i(9),a=s("species");t.exports=function(t){var e=n(t),i=o.f;r&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,i){"use strict";var n=i(42),o=i(7),s=i(13),r=i(133),a=i(43);n("search",1,(function(t,e,i){return[function(e){var i=s(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var s=o(t),c=String(this),l=s.lastIndex;r(l,0)||(s.lastIndex=0);var d=a(s,c);return r(s.lastIndex,l)||(s.lastIndex=l),null===d?-1:d.index}]}))},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){"use strict";var n=i(42),o=i(7),s=i(17),r=i(13),a=i(56),c=i(43);n("match",1,(function(t,e,i){return[function(e){var i=r(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var r=o(t),l=String(this);if(!r.global)return c(r,l);var d=r.unicode;r.lastIndex=0;for(var h,u=[],f=0;null!==(h=c(r,l));){var m=String(h[0]);u[f]=m,""===m&&(r.lastIndex=a(l,s(r.lastIndex),d)),f++}return 0===f?null:u}]}))},function(t,e){$,Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.CustomerServiceApi=Turbulent.Object.extend({contentType:null,payload:null,init:function(){this.xmlHttp=new XMLHttpRequest,this.baseUrl="/api/customer-service/v2"},attachHeader:function(){this.xmlHttp.setRequestHeader("X-"+RSI.Api.TOKEN_NAME,jQuery.cookie(RSI.Api.TOKEN_NAME)),this.contentType&&this.xmlHttp.setRequestHeader("content-type",this.contentType)},attachCallback:function(t){this.xmlHttp.onreadystatechange=function(e){4==this.xmlHttp.readyState&&200==this.xmlHttp.status&&t&&t(JSON.parse(this.xmlHttp.responseText))}.bind(this)},setPayload:function(t){return this.payload=t,this},post:function(t,e,i){this.xmlHttp.open("POST",this.baseUrl+t,!0),this.attachHeader(),this.attachCallback(e),this.xmlHttp.send(i)},createTicket:function(t){this.contentType="application/json",this.post("/createTicket",t,this.payload)},uploadFile:function(t){this.post("/uploadFile",t,this.payload)},getZendeskRequests:function(t){this.post("/getRequests",t)},getTicketForms:function(t){this.post("/getTicketForms",t)}})},function(t,e){!function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.UserAgreement=Turbulent.Object.extend({init:function(e){this._super(e),this.container=t(".js-notification-bar")},cleanup:function(){null!=this.container&&0===this.container.children().length&&this.container.remove()},fetchAccountUnacceptedUserAgreements:function(t){(new RSI.UserAgreementApi).getUnaccepted(t)},fetchCookieAgreements:function(t){(new RSI.UserAgreementApi).getCookieAgreements(t)},acceptUserAgreement:function(t,e){(new RSI.UserAgreementApi).createForType(t).accept(e)},renegeUserAgreement:function(t,e){(new RSI.UserAgreementApi).createForType(t).renege(e)},fetchLatestAgreement:function(t,e){(new RSI.UserAgreementApi).createForType(t).getAgreement(e)}})}(jQuery)},function(t,e){jQuery,Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.UserAgreementApi=Turbulent.Object.extend({init:function(){this.xmlHttp=new XMLHttpRequest,this.baseUrl="/api/account/useragreements"},createForType:function(t){return this.stringifiedType=JSON.stringify({agreement_type:t}),this},attachHeader:function(){this.xmlHttp.setRequestHeader("X-"+RSI.Api.TOKEN_NAME,jQuery.cookie(RSI.Api.TOKEN_NAME)),this.xmlHttp.setRequestHeader("content-type","application/json")},attachCallback:function(t){this.xmlHttp.onreadystatechange=function(e){4==this.xmlHttp.readyState&&200==this.xmlHttp.status&&t&&t(JSON.parse(this.xmlHttp.responseText))}.bind(this)},post:function(t,e,i){this.xmlHttp.open("POST",this.baseUrl+t,!0),this.attachHeader(),this.attachCallback(e),this.xmlHttp.send(i)},getCookieAgreements:function(t){this.post("/getCookieAgreements",t)},getUnaccepted:function(t){this.post("/getUnacceptedAgreements",t)},accept:function(t){this.post("/acceptAgreement",t,this.stringifiedType)},renege:function(t){this.post("/renegeAgreement",t,this.stringifiedType)},hasAcceptedLatestAgreementOfType:function(t){this.post("/hasAcceptedLatestAgreementOfType",t,this.stringifiedType)},getAgreement:function(t){this.post("/getAgreement",t,this.stringifiedType)}})},function(t,e){jQuery,Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.UserAgreementAcceptanceMethods=Turbulent.Object.extend({init:function(t){this.notificationName=t.notificationName,this.type=t.type,this.option=t.option},setCookie:function(t){var e=new Date;e.setDate(e.getDate()+t),document.cookie=this.notificationName+"=1; path=/; expires="+e},cookieAcceptanceMethod:function(){this.setCookie(730)},databaseAcceptanceMethod:function(){this.setCookie(30),(new RSI.UserAgreement).acceptUserAgreement(this.type)}})},function(t,e,i){"use strict";var n=i(2),o=i(18).every,s=i(32),r=i(14),a=s("every"),c=r("every");n({target:"Array",proto:!0,forced:!a||!c},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(2),o=i(18).filter,s=i(44),r=i(14),a=s("filter"),c=r("filter");n({target:"Array",proto:!0,forced:!a||!c},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";i.r(e);i(0),i(5);!function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.Lightbox=Turbulent.Lightbox.extend({init:function(e){this.load_in=e.load_in?e.load_in:null,this._super(e),this.load_in||t(window).unbind("resize",this.bindMethod(this.onWindowResize)).bind("resize",this.bindMethod(this.onWindowResize)),this.animationQueue=t({})},create:function(t,e,i){this.load_in?(this.holder=this.load_in,this.holder.html(t)):this._super(t,e,i)},onShow:function(){window.Main.setDataDefaultText()},onHide:function(){},fadeIn:function(e,i,n){if(this.load_in)return!1;e=e||300;var o=this;if(this.current_view){var s="#"+this.current_view;this.holder.find(s).addClass("on"),this.holder.find(".button[rel="+this.current_view+"]").addClass("active")}var r=this.holder.find(".inner-content").length>1?this.holder.find(".inner-content.on"):this.holder.find(".inner-content"),a=this.getWidth(r);if(this.holder.find(".modal-wrapper").css({width:a}),this.current_target){this.start_x=parseInt(this.current_target.offset().left+parseInt(this.current_target.width()/2))-t(window).scrollLeft(),this.start_y=parseInt(this.current_target.offset().top+parseInt(this.current_target.height()/2))-t(window).scrollTop(),this.holder.css({display:"block"});var c=this.start_x-parseInt(this.holder.find(".js-content ").width()/2),l=this.start_y-parseInt(this.holder.find(".js-content ").height()/2),d=window.innerWidth||document.documentElement.clientWidth,h=window.innerHeight||document.documentElement.clientHeight,u=parseInt(d)/2-parseInt(this.holder.find(".js-content ").width()/2),f=parseInt(h)/2-parseInt(this.holder.find(".js-content ").height()/2);u<0&&(u=0),f<0&&(f=0);var m=this.holder,p=r.height();r.css("height","0px"),this.animationQueue.queue((function(t){m.find(".js-content").css({display:"block",scale:0,"margin-left":parseInt(c)+"px","margin-top":parseInt(l)+"px",opacity:0}).transition({scale:1,"margin-left":u,"margin-top":f,opacity:1},300),m.find(".shader").css({opacity:0}).transition({opacity:1},600),m.find(".js-content").promise().done((function(){t()}))})),this.animationQueue.queue((function(t){m.find(".js-content").css("transform","none"),r.animate({height:p},100),r.promise().done((function(){window.Common.bindSelectLists(m),window.Common.bindSlider(m),t(),this.css("height","")}))}));var g=this;this.animationQueue.queue((function(t){window.Common.bindSelectLists(m),g.modalResize(),o.onShow(),null!=n&&n(),t()}))}else this.holder.stop(!0,!0).fadeIn(200),this.modalResize();return t(window).bind("resize",this.bindMethod(this.modalResize)),this},hide:function(e,i,n){if(this.load_in)return!1;e=e||300;return this.holder&&this.holder.is(":visible")&&this.fadeOut(),t(window).unbind("resize"),this},fadeOut:function(){if(this.load_in)return!1;if(this.current_target){this.holder.css({display:"block"});var e=parseInt(this.current_target.offset().left+parseInt(this.current_target.width()/2))-t(window).scrollLeft()-this.holder.find(".js-content ").width()/2,i=parseInt(this.current_target.offset().top+parseInt(this.current_target.height()/2))-t(window).scrollTop()-this.holder.find(".js-content ").height()/2,n=this.holder.find(".inner-content").length>1?this.holder.find(".inner-content.on"):this.holder.find(".inner-content"),o=this.holder;this.animationQueue.queue((function(t){n.animate({height:"0px"},100),n.promise().done((function(){t()}))})),this.animationQueue.queue((function(t){o.find(".js-content").transition({scale:0,"margin-left":e,"margin-top":i,opacity:0},500),o.find(".shader").transition({opacity:0},800),o.find(".js-content").promise().done((function(){o.css({display:"none"}),t()}))}))}else this.holder.stop(!0,!0).fadeOut(300)},modalCenter:function(){if(this.load_in)return!1;t(".js-overlay").css({display:"block",opacity:0});var e=((window.innerHeight||document.documentElement.clientHeight)-this.holder.find(".js-content").height())/2;t(".js-content").css("margin-top",e+"px"),t(".js-overlay").css({display:"none",opacity:1})},modalResize:function(e){if(this.load_in)return!1;var i=t(".js-overlay .js-content").height(),n=window.innerHeight||document.documentElement.clientHeight,o=t("body").height();i>n?(t(".js-overlay").addClass("absolute"),t(".js-overlay").css("height",o),t("html, body").scrollTop(0)):(t(".js-overlay").removeClass("absolute"),t(".js-overlay").css("height","100%"))},onWindowResize:function(t){clearTimeout(this.timeout),this.timeout=setTimeout(this.bindMethod(this.resizeCurrent),500)},hideCurrent:function(){var t=this;if(this.load_in)return t.holder.find(".inner-content.on").css("height","0px").removeClass("on"),!1;this.animationQueue.queue((function(e){t.holder.find(".inner-content.on").animate({height:"0px"},100),t.holder.find(".inner-content.on").promise().done((function(){t.holder.find(".inner-content.on").removeClass("on"),e()}))}))},resizeCurrent:function(t){var e=this.holder.find(".inner-content").length>1?this.holder.find(".inner-content.on"):this.holder.find(".inner-content");t&&(e=t);var i=this.getWidth(e),n=this;if(this.load_in)return n.holder.find(".modal-wrapper").width(i+"px"),e.css("height","auto").addClass("on"),n.modalResize(),!1;this.animationQueue.queue((function(t){n.holder.find(".modal-wrapper").animate({width:i+"px"},100),n.holder.find(".modal-wrapper").promise().done((function(){t()}),100)})),this.animationQueue.queue((function(t){var i=e.height();e.css("height","auto");var n=e.height();e.css("height",i),e.animate({height:n+"px"},100),e.promise().done((function(){e.addClass("on"),t()}))})),this.animationQueue.queue((function(t){var e=(window.innerHeight||document.documentElement.clientHeight)/2-n.holder.find(".js-content").outerHeight()/2;e<40&&(e=40),n.holder.find(".js-content").animate({"margin-top":e+"px"},100),n.holder.find(".js-content").promise().done((function(){t()}))})),this.animationQueue.queue((function(t){n.modalResize(),t()}))},getWidth:function(t){var e=window.innerWidth||document.documentElement.clientWidth,i=parseInt(this.holder.find(".modal-inner").outerWidth(!0))-parseInt(this.holder.find(".modal-inner").width()),n=e-i;return!isNaN(parseInt(t.css("max-width")))&&parseInt(t.css("max-width"))<n&&(n=parseInt(t.css("max-width"))+i),!isNaN(parseInt(t.css("min-width")))&&parseInt(t.css("min-width"))>n&&(n=parseInt(t.css("min-width"))+i),n},hideLoader:function(){this.holder.find(".traj-loader").hide()},showLoader:function(){this.holder.find(".traj-loader").show()},initScrollbar:function(){this.holder.find(".scrollable").each((function(){t(this).data("scrollbar")||(t(this).height(t(this).height()),t(this).data("scrollbar",new Turbulent.Scrollbar({holder:t(this)})))}))},updateScrollBar:function(){var t=this.holder.find(".scrollable").first().data("scrollbar");t?t.update("relative"):this.initScrollbar()}})}(jQuery);i(31),i(104),i(10),i(24),i(20);!function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{},Ty=window.Ty||{},RSI.Autocomplete=Turbulent.Object.extend({init:function(e){this._super(),this.api=e.api,this.apiParams=e.apiParams?e.apiParams:[],this.initMembers(e),this.bindGeneral(),this.positionList(),t(this.trigger).data("autocomplete",this)},initMembers:function(e){this.container=t(e.container),this.containerClass=e.container,this.trigger=this.container.find("input[type=text]"),this.autocompleteList=this.container.find(".js-autocomplete-list"),this.group=this.container.data("group"),this.scrollable=this.container.find(".scrollable").length>0&&this.container.find(".scrollable")},setup:function(){this.bindGeneral()},bindGeneral:function(){t(this.trigger).off("click"),t(this.trigger).unbind("keydown").bind("keydown",this.bindMethod(this.onKeyDown))},positionList:function(){var t=this.trigger.outerHeight();this.scrollable&&this.scrollable.css({position:"absolute",top:t,left:0})},onKeyDown:function(t){this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.removeData(),this.loading(),this.searchTimeout=window.setTimeout(this.bindMethod(this.autocompleteSearch),800)},autocompleteSearch:function(){var e=this.trigger.val();if(""==t.trim(e))return this.loaded(),this.closeList(),!1;var i={search:t.trim(e),autocomplete:t.trim(e)};if(this.apiParams.length>0)for(var n=0;n<this.apiParams.length;n++)i[this.apiParams[n]]=this.container.data("id");i=this.getApiParams(t.trim(e)),this.api(this.bindMethod(this.showList),i)},getApiParams:function(t){return{autocomplete:t}},showList:function(e){var i=0;if(this.loaded(),this.autocompleteList.html(""),0==e.data.totalrows)o=t('<li class="no-result">No result</li>'),this.autocompleteList.append(o);else for(var n in e.data.resultset){var o=t("<li>");o.attr({class:"autocomplete-item",rel:e.data.resultset[n].id}).text(e.data.resultset[n].name),this.autocompleteList.append(o)}this.autocompleteList.show(),this.scrollable&&this.scrollable.show();var s=this.autocompleteList.find("li"),r=s.length;i=r>5?8*s.height():s.outerHeight()*r+5,this.scrollable&&(this.scrollable.show().height(i),this.scrollable.data("scrollbar").update()),s.bind("click",this.bindMethod(this.onItemClick)),t(document).bind("click",this.bindMethod(this.onDocumentClick))},onDocumentClick:function(e){t(e.currentTarget).hasClass("autocomplete-item")||(""==this.container.find(".js-value").val()&&this.trigger.val(""),this.closeList()),t(document).unbind("click",this.bindMethod(this.onDocumentClick))},onItemClick:function(e){var i=t(e.currentTarget).text(),n=t(e.currentTarget).attr("rel");this.closeList(),this.setData({name:i,id:n})},setData:function(e){this.trigger.val(e.name),t(this.group).data("id",e.id),this.container.find(".js-value").val(e.id),t(this.group).find('input[type="text"]').removeAttr("disabled"),this.container.trigger("onAfterItemClick")},closeList:function(){this.autocompleteList.hide(),this.scrollable&&(this.scrollable.data("scrollbar").update(),this.scrollable.hide())},removeData:function(){t(this.group).data("id",""),this.container.find(".js-value").val(""),t(this.group).find('input[type="text"]').val("").attr("disabled","disabled"),t(this.group).find(".js-value").val("")},loading:function(){this.trigger.addClass("loading")},loaded:function(){this.trigger.removeClass("loading")},onAfterItemClick:function(){}}),RSI.RegionAutocomplete=RSI.Autocomplete.extend({getApiParams:function(t){return{autocomplete:t,country_id:this.container.data("id")}}}),RSI.TagAutocomplete=RSI.Autocomplete.extend({getApiParams:function(t){return{search:t,dictionary:this.container.find(".dictionary").val()}},positionList:function(){var t=this.trigger.outerHeight();this.scrollable&&this.scrollable.css({position:"absolute",top:t+30,left:0})},bindGeneral:function(){t(this.trigger).off("click"),t(this.trigger).unbind("keydown").bind("keydown",this.bindMethod(this.onKeyDown)),t(this.trigger).unbind("focus").bind("focus",this.bindMethod(this.onFocus))},onFocus:function(t){this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.removeData(),this.loading(),this.searchTimeout=window.setTimeout(this.bindMethod(this.autocompleteSearch),800)},autocompleteSearch:function(){var e=this.trigger.val(),i={search:t.trim(e),autocomplete:t.trim(e)};if(this.apiParams.length>0)for(var n=0;n<this.apiParams.length;n++)i[this.apiParams[n]]=this.container.data("id");i=this.getApiParams(t.trim(e)),this.api(this.bindMethod(this.showList),i)},onItemClick:function(e){var i=t(e.currentTarget).data("name"),n=this.container.parents("form");this.closeList();var o=this.container.find(".tag-field");if(o.val()?o.val(o.val()+";"+i):o.val(i),0!=n.find(".tag-list").length){var s=o.val().split(";");s=t.grep(s,(function(t){return t})),s=t.grep(s,(function(e,i){return t.inArray(e,s)===i}));var r=n.find(".tag-list");r.html(""),t.each(s,(function(t,e){r.append('<div class="tag js-tag" data-nickname="{$nickname}" data-display="{$displayname}"><div class="left"><div class="effect trans-02s trans-opacity"></div></div><div class="tag-content tag-item" value="'+e+'"><div class="effect trans-02s trans-opacity"></div><span class="text">'+e+'</span><a class="close remove-tag trans-02s trans-opacity"></a></div></div>')})),n.find(".tag-item .remove-tag").click((function(e){e.preventDefault();var i=t(this).parents(".tag-item"),o=i.attr("value");i.parent().remove();var s=n.find(".tag-field").val().split(";"),a=t.grep(s,(function(t){if(t&&t!=o)return t}));n.find(".tag-field").val(a.join(";")),0==a.length&&r.html(""),n.submit()}))}this.container.find("input[type=text]").val(""),n.submit(),t(this.btAddUser).removeClass("disabled"),this.container.trigger("onAfterItemClick")},showList:function(e){var i="";if(this.loaded(),0==e.data.totalrows)i+="<li class='no-result'><em>No result</em></li>";else for(var n in e.data.resultset)i+='<li class="autocomplete-item trans-03s" data-name="'+e.data.resultset[n].name+'" data-dictionary="'+e.data.resultset[n].dictionary+'" data-id="'+e.data.resultset[n].id+'"><span class="corner corner-top-left"></span><span class="corner corner-top-right"></span><span class="corner corner-bottom-right"></span><span class="corner corner-bottom-left"></span></div><span class="glow trans-03s"></span><span class="title trans-03s">'+e.data.resultset[n].name+"</span></li>";this.container.find(".js-autocomplete-list").html(i).show(),this.container.find(".scrollable").show();var o,s=this.container.find(".js-autocomplete-list li").length;o=s>5?8*this.container.find(".js-autocomplete-list li").height():(this.container.find(".js-autocomplete-list li").outerHeight()+5)*s,this.scrollable.show().height(o),this.scrollable.data("scrollbar").update(),this.container.find(".js-autocomplete-list li:first").addClass("active"),this.container.find(".js-autocomplete-list li:not(.no-result)").bind({click:this.bindMethod(this.onItemClick)}),t(document).bind("click",this.bindMethod(this.onDocumentClick))}}),RSI.UsersAutocomplete=RSI.Autocomplete.extend({init:function(e){this._super(e),this.acKey="nickname",this.acValue="displayname",this.straight=this.container.hasClass("straight"),this.btAddUser=this.container.find(".js-add-user"),t(this.btAddUser).addClass("disabled")},getApiParams:function(t){return{search:t}},onKeyDown:function(t){switch(t.keyCode){case 13:return this.autocompleteList.find(".active").trigger("click"),!1;case 40:return this.autocompleteList.find(".active").next().trigger("mouseenter"),!1;case 38:return this.autocompleteList.find(".active").prev().trigger("mouseenter"),!1;case 27:return this.onDocumentClick(t),!1}this._super()},showList:function(e){var i="";if(this.loaded(),0==e.data.totalrows)i+="<li class='no-result'><em>No result</em></li>";else for(var n in e.data.resultset)i+=this.getTemplate(e.data.resultset[n]);this.container.find(".js-autocomplete-list").html(i).show(),this.container.find(".scrollable").show();var o,s=this.container.find(".js-autocomplete-list li").length;o=s>5?8*this.container.find(".js-autocomplete-list li").height():(this.container.find(".js-autocomplete-list li").outerHeight()+5)*s,this.scrollable.show().height(o),this.scrollable.data("scrollbar").update(),this.container.find(".js-autocomplete-list li:first").addClass("active"),this.container.find(".js-autocomplete-list li:not(.no-result)").bind({click:this.bindMethod(this.onItemClick),mouseenter:this.bindMethod(this.onItemHover)}),t(document).bind("click",this.bindMethod(this.onDocumentClick))},getTemplate:function(t){return'<li class="autocomplete-item trans-03s" data-'+this.acKey+'="'+t[this.acKey]+'" data-'+this.acValue+'="'+t[this.acValue]+'"><div class="avatar"><img src="'+(t.avatar||"/rsi/static/images/account/avatar_default.jpg")+'"><span class="corner corner-top-left"></span><span class="corner corner-top-right"></span><span class="corner corner-bottom-right"></span><span class="corner corner-bottom-left"></span></div><span class="glow trans-03s"></span><span class="displayname trans-03s">'+t[this.acValue]+'</span><span class="nickname trans-03s">'+t[this.acKey]+"</span></li>"},onItemClick:function(e){var i=t(e.currentTarget),n=i.data(this.acKey),o=i.data(this.acValue);this.closeList(),this.straight?this.container.find("input[type=text]").val(n):(this.container.find("input[type=text]").val(o+" ["+n+"]"),this.container.find(".js-"+this.acValue).val(o),this.container.find(".js-"+this.acKey).val(n)),t(this.btAddUser).removeClass("disabled"),this.container.trigger("onAfterItemClick")},onItemHover:function(e){t(e.currentTarget).addClass("active").siblings().removeClass("active");var i=this.container.find(".scrollable");(e.isTrigger&&t(e.currentTarget).position().top+t(e.currentTarget).outerHeight()+i.find(".content").position().top>i.find(".viewport").height()||t(e.currentTarget).position().top+i.find(".content").position().top<0)&&i.data("scrollbar").scrollTo(t(e.currentTarget),null)},reset:function(){this.container.find("input[type=text]").val(""),this.straight||(this.container.find(".js-"+this.acValue).val(""),this.container.find(".js-"+this.acKey).val("")),t(this.btAddUser).addClass("disabled")}}),RSI.LeaderboardUsersAutocomplete=RSI.Autocomplete.extend({init:function(e){this._super(e),this.acKey="nickname",this.acValue="displayname",this.straight=this.container.hasClass("straight"),this.btAddUser=this.container.find(".js-add-user"),t(this.btAddUser).addClass("disabled")},loading:function(){this.trigger.addClass("loading")},getApiParams:function(t){return{search:t}},onKeyDown:function(t){switch(t.keyCode){case 13:return this.autocompleteList.find(".active").trigger("click"),!1;case 40:return this.autocompleteList.find(".active").next().trigger("mouseenter"),!1;case 38:return this.autocompleteList.find(".active").prev().trigger("mouseenter"),!1;case 27:return this.onDocumentClick(t),!1}this.loading(),this._super()},showList:function(e){var i="";if(this.loaded(),0==e.data.totalrows)i+="<li class='no-result'>No result</li>";else for(var n in e.data.resultset)i+=this.getTemplate(e.data.resultset[n]);this.container.find(".js-autocomplete-list").html(i).show(),this.container.find(".scrollable").show();var o=this.container.find(".js-autocomplete-list li").length,s=Math.min(5,o),r=this.container.find(".js-autocomplete-list li").outerHeight()*s;this.scrollable.height(r).show(),this.scrollable.data("scrollbar").update(),this.container.find(".js-autocomplete-list li:first").addClass("active"),this.container.find(".js-autocomplete-list li:not(.no-result)").bind({click:this.bindMethod(this.onItemClick),mouseenter:this.bindMethod(this.onItemHover)}),t(document).bind("click",this.bindMethod(this.onDocumentClick))},getTemplate:function(t){return'<li class="autocomplete-item trans-03s" data-'+this.acKey+'="'+t[this.acKey]+'" data-'+this.acValue+'="'+t[this.acValue]+'"><div class="avatar"><img src="'+(t.avatar||"/rsi/static/images/account/avatar_default.jpg")+'"></div><div class="player-data"><div class="displayname trans-03s">'+t[this.acValue]+'</div><div class="nickname trans-03s">'+t[this.acKey]+"</div></div></li>"},onItemClick:function(e){var i=t(e.currentTarget),n=i.data(this.acKey),o=i.data(this.acValue);this.closeList(),this.straight?this.container.find("input[type=text]").val(n):(this.container.find("input[type=text]").val(o+" ["+n+"]"),this.container.find(".js-"+this.acValue).val(o),this.container.find(".js-"+this.acKey).val(n)),t(this.btAddUser).removeClass("disabled"),this.container.trigger("onAfterItemClick",{acKey:n,acValue:o})},onItemHover:function(e){t(e.currentTarget).addClass("active").siblings().removeClass("active");var i=this.container.find(".scrollable");(e.isTrigger&&t(e.currentTarget).position().top+t(e.currentTarget).outerHeight()+i.find(".content").position().top>i.find(".viewport").height()||t(e.currentTarget).position().top+i.find(".content").position().top<0)&&i.data("scrollbar").scrollTo(t(e.currentTarget),null)},reset:function(){this.container.find("input[type=text]").val(""),this.straight||(this.container.find(".js-"+this.acValue).val(""),this.container.find(".js-"+this.acKey).val("")),t(this.btAddUser).addClass("disabled")}}),RSI.OrgsAutocomplete=RSI.UsersAutocomplete.extend({init:function(t){this._super(t),this.acKey="symbol",this.acValue="name"},getTemplate:function(t){return'<li class="autocomplete-item trans-03s" data-'+this.acKey+'="'+t[this.acKey]+'" data-'+this.acValue+'="'+t[this.acValue]+'"><div class="avatar"><img src="'+t.icon+'"><span class="corner corner-top-left"></span><span class="corner corner-top-right"></span><span class="corner corner-bottom-right"></span><span class="corner corner-bottom-left"></span></div><span class="glow trans-03s"></span><span class="displayname trans-03s">'+t[this.acValue]+'</span><span class="nickname trans-03s">'+t[this.acKey]+"</span></li>"}}),RSI.LeaderboardOrgsAutocomplete=RSI.LeaderboardUsersAutocomplete.extend({init:function(t){this._super(t),this.acKey="symbol",this.acValue="name"},getTemplate:function(t){return'<li class="autocomplete-item trans-03s" data-'+this.acKey+'="'+t[this.acKey]+'" data-'+this.acValue+'="'+t[this.acValue]+'"><div class="avatar"><img src="'+t.icon+'"></div><div class="org-data"><div class="displayname trans-03s">'+t[this.acValue]+'</div><div class="nickname trans-03s">'+t[this.acKey]+"</div><div></li>"}})}(jQuery);i(57),i(59),i(108),i(60),i(34),i(35),i(92),i(93);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.BinaryCountdown=Class.extend({init:function(t,e){this.container=t,this.interval=e.interval||250,this.finish=e.finish&&n(e.finish)==("undefined"==typeof Function?"undefined":n(Function))?e.finish:function(){return!0},this.rotators=[],this.rotatorslen=0,this.elapsed=e.elapsed?e.elapsed:0,this.seconds=0;for(var i=0,o=this.container.childNodes.length;i<o;i++)1===this.container.childNodes[i].nodeType&&this.rotators.push(new RSI.BinaryRotator(this.container.childNodes[i]));this.rotatorslen=this.rotators.length,this.seconds=Math.pow(2,this.rotatorslen)},increment:function(){if(this.elapsed>=this.seconds-1)return this.finish();this.elapsed++;for(var t=0;t<this.rotatorslen;t++)this.elapsed*this.interval%(this.interval*Math.pow(2,t))==0&&this.rotators[t].tick();var e=this;window.setTimeout((function(){e.increment()}),this.interval)},trigger:function(t){this.elapsed=t?Math.floor(Math.abs(t)/this.interval):0,this.elapsed>0&&this.setbin(),this.increment()},setbin:function(){for(var t=this.rotatorslen-1,e=this.seconds/2,i=this.elapsed;t>=0;t--,e/=2)i>=e&&(this.rotators[t].tick(),i-=e)},reset:function(){this.elapsed=0;for(var t=0;t<this.rotatorslen;t++)0===this.rotators[t].binState&&this.rotators[t].tick()}}),RSI.BinaryRotator=Class.extend({init:function(t){this.elem=t,this.rotationDeg=0,this.binState=0,this.tick()},rotate:function(){var t="rotate("+this.rotationDeg.toString()+"deg)";this.elem.style.webkitTransform=t,this.elem.style.MozTransform=t,this.elem.style.msTransform=t,this.elem.style.OTransform=t,this.elem.style.transform=t},tick:function(){this.rotationDeg=0===this.binState?Math.floor(320*Math.random()+40)*(Math.random()<.5?-1:1):0,this.elem.style.opacity=0===this.binState?Math.ceil(100*(.3+.7*Math.random()))/100:1,this.binState^=1,this.rotate()}}),function(t){RSI=window.RSI||{},RSI.CommentReport=RSI.Lightbox.extend({init:function(t){this._super(t),this.applyForm=this.holder.find("form").first(),this.formProcessor=new Turbulent.Form({form_selector:this.applyForm}),this.reaction_id=t.reaction_id||"",this.offensive_content=t.offensive_content||"",this.url=t.url,this.handle=t.handle,this.apiObject=t.apiObject,this.applyForm.bind("submit",this.bindMethod(this.onSubmitForm))},onSubmitForm:function(t){if(t.preventDefault(),!this.holder.find(".submit-wrapper").hasClass("disabled")){var e=this.formProcessor.getFormData();e.reaction_id=this.reaction_id,e.url=this.url,e.handle=this.handle,e.offensive_content=this.offensive_content,this.loading=!0,window.Main.setBodyState("loading"),this.holder.find(".submit-wrapper").addClass("loading"),this.apiObject.flag(this.bindMethod(this.ReportOrg),e)}},ReportOrg:function(e){if(window.Main.setBodyState(null),this.holder.find(".submit-wrapper").removeClass("loading"),e.success){t("input[name=email]").val("").trigger("blur"),t("input[name=subject]").val("").trigger("blur"),t("textarea[name=text]").val("").trigger("blur");var i=RSI.translate("report_modal_success");this.showSuccess(i),setTimeout(this.bindMethod(this.fadeOut),4e3)}else{var n=e.msg+"<br/>";if(e.data instanceof Object)for(var o in e.data.properties)n+="<b>"+o+"</b> : "+e.data.properties[o]+"<br/>";this.showError(n)}},showSuccess:function(e){t("#comment-report .js-error-message").hide(),t("#comment-report .js-success-message").html(e),t("#comment-report .js-success-message").fadeIn(300),this.resizeCurrent()},showError:function(e){t("#comment-report .js-success-message").hide(),t("#comment-report .js-error-message").html(e),t("#comment-report .js-error-message").fadeIn(300),this.resizeCurrent()}})}(jQuery);i(21),i(113);!function(t){RSI=window.RSI||{},RSI.Comments=Turbulent.CommentManager.extend({isLoading:!1,page:1,pagesize:20,lazyLoading:!1,init:function(t){this._super(t)},initMembers:function(e){this._super(e),this.top_level_comments=t("#comments > .comment-listing > .js-comment-container"),this.atom_url=e.atom_url,this.subject_type=e.subject_type,this.comment_count=e.comment_count,this.checkMode(),"one-column"==this.view_mode?this.goToOneColumn():this.goToTwoColumns(),this.selectComment(t(".js-comment").first())},bindTargets:function(){t(".js-comment-form .js-submit").bind("click",this.bindMethod(this.onCommentSubmitClick)),t(".js-comment-form .js-body").bind("keyup",this.bindMethod(this.onCommentBodyKeydown)),this.comment_listing_el.on("keyup",".js-reply-to-comment-form .js-body",this.bindMethod(this.onReplyBodyKeydown)),this.comment_listing_el.on("click",".js-reply-to-comment-form .js-submit",this.bindMethod(this.onReplyToCommentSubmitClick)),this.comment_listing_el.on("click",".js-reply-to-reply-form .js-submit",this.bindMethod(this.onReplyToReplySubmitClick)),this.comment_listing_el.on("click",".comment-itself",this.bindMethod(this.onCommentClick)),this.comment_listing_el.on("submit",".js-reply-to-comment-form",this.bindMethod(this.onReplyFormSubmit)),this.comment_listing_el.on("submit",".js-reply-to-reply-form",this.bindMethod(this.onReplyFormSubmit)),this.comment_listing_el.on("click",".js-edit-form .js-submit",this.bindMethod(this.onEditSubmitClick)),t(".js-add-comment:not(.js-modal-login)").bind("click",this.bindMethod(this.onAddCommentClick)),this.comment_listing_el.on("click",".js-reply-to-comment:not(.js-modal-login)",this.bindMethod(this.onAddReplyToCommentClick)),this.comment_listing_el.on("click",".js-reply-to-reply:not(.js-modal-login)",this.bindMethod(this.onAddReplyToReplyClick)),t(window).bind("resize",this.bindMethod(this.onPageScroll)),t("#comments").on("click",".js-view-settings",this.bindMethod(this.onViewSettingsClick)),t(".js-to-one-column").bind("click",this.bindMethod(this.onChangeViewToOneColumnClick)),t(".js-to-two-columns").bind("click",this.bindMethod(this.onChangeViewToTwoColumnClick)),t(".js-to-oldest").bind("click",this.bindMethod(this.onChangeSortToOldestClick)),t(".js-to-newest").bind("click",this.bindMethod(this.onChangeSortToNewestClick)),t(".js-to-appreciated").bind("click",this.bindMethod(this.onChangeSortToAppreciatedClick)),t(".js-show-appreciation").bind("click",this.bindMethod(this.onShowAppreciationClick)),this.comment_listing_el.on("click",".js-appreciate",this.bindMethod(this.onAppreciateClick)),this.comment_listing_el.on("click",".js-load-more-replies",this.bindMethod(this.onLoadMoreRepliesClick)),this.comment_listing_el.on("click",".js-load-more-replies-to-reply",this.bindMethod(this.onLoadMoreRepliesToReplyClick)),this._super()},onFlagClick:function(e){e.preventDefault();var i=new RSI.CommentReport({content:window.Main.renderTemplate("#tpl_comment_report",{}),class_name:"modals comments",noclose_btn:!0,reaction_id:this.getCommentID(e.currentTarget),handle:this.getHandle(e.currentTarget),url:location.href,offensive_content:this.getCommentContent(e.currentTarget),apiObject:this.api_object});i.current_target=t(e.currentTarget),window.Main.openModal(i)},getHandle:function(t){var e=this.getComment(t);return e.length?e.find(".handle").eq(0).text():"Unknown"},getCommentContent:function(t){var e=this.getComment(t);return e.length?e.find(".js-comment-body").eq(0).text():"N/A"},onLoadMoreRepliesToReplyClick:function(e){e.preventDefault(),this.current_replies_to_reply=t(e.currentTarget).closest(".replies-to-reply");var i={id:this.subject_id,reference_id:this.current_replies_to_reply.find(".reply-reply:last").data("id"),parent_id:t(e.currentTarget).closest(".js-comment-reply").data("id"),grandparent_id:t(e.currentTarget).closest(".comment-listing > .js-comment").data("id")};this.api_object[this.api_function_names.load](this.bindMethod(this.onLoadRepliesToReply_CB),i),t(e.currentTarget).siblings(".js-reply-to-reply").remove(),t(e.currentTarget).remove()},onLoadRepliesToReply_CB:function(t){t.success&&(this.current_replies_to_reply.append(t.data),this.current_replies_to_reply.find(".js-modal-login").attr("href","/connect?jumpto="+this.atom_url),this.current_replies_to_reply.closest(".scrollable").data("scrollbar").update("relative"))},onLoadMoreRepliesClick:function(e){e.preventDefault(),this.current_replies=t(e.currentTarget).closest(".reply-bodies");var i={id:this.subject_id,reference_id:this.current_replies.find(".js-comment-reply:last").data("id"),parent_id:t(e.currentTarget).closest(".js-comment").data("id")};this.api_object[this.api_function_names.load](this.bindMethod(this.onLoadReplies_CB),i),t(e.currentTarget).remove()},onLoadReplies_CB:function(t){t.success&&(this.current_replies.append(t.data),this.current_replies.closest(".scrollable").data("scrollbar").update("relative"))},onAppreciateClick:function(e){e.preventDefault(),t(e.currentTarget).toggleClass("on");var i={reaction_id:t(e.currentTarget).closest(".js-comment").data("id"),appreciate:t(e.currentTarget).hasClass("on")};this.api_object.appreciate(this.bindMethod(this.onAppreciate_CB),i)},onAppreciate_CB:function(t){},checkMode:function(){t(".js-to-one-column").hasClass("on")||t(".avatar.content-block3.mobile").first().is(":visible")?this.view_mode="one-column":this.view_mode="two-columns"},onViewSettingsClick:function(e){if(e.preventDefault(),e.stopPropagation(),t(e.currentTarget).toggleClass("on"),t(e.currentTarget).hasClass("on")){t(document).bind("click",this.bindMethod(this.onSettingsOpenDocumentClick));var i="195px";t(".js-settings .js-show-appreciation ").length>0&&(i="220px"),t(".js-settings").stop(!0,!0).animate({width:"185px"},200,(function(){t(".js-settings").animate({height:i,"margin-bottom":"-"+i},250)}))}else t(".js-settings").stop(!0,!0).animate({height:"38px","margin-bottom":"0px"},250,(function(){t(".js-settings").animate({width:"0px"},200)}))},onSettingsOpenDocumentClick:function(e){0==t(e.originalEvent.target).closest(".js-settings").length&&(t(".js-settings").stop(!0,!0).animate({height:"38px","margin-bottom":"0px"},400,(function(){t(".js-settings").animate({width:"0px"})})),t("#comments .js-view-settings").removeClass("on"),t(document).unbind("click",this.bindMethod(this.onSettingsOpenDocumentClick)))},onChangeSortToOldestClick:function(e){e.preventDefault(),this.updateSort(t(e.currentTarget),"oldest")},onChangeSortToNewestClick:function(e){e.preventDefault(),this.updateSort(t(e.currentTarget),"newest")},onChangeSortToAppreciatedClick:function(e){e.preventDefault(),this.updateSort(t(e.currentTarget),"appreciated")},updateSort:function(t,e){t.addClass("on").siblings(".js-comments-sort.on").removeClass("on"),this.no_results=!1,this.comment_listing_el.children().remove(),this.loadComments(e)},onChangeViewToOneColumnClick:function(e){e.preventDefault(),t(e.currentTarget).addClass("on").siblings(".js-comments-view.on").removeClass("on"),this.api_object.setViewMode(null,{view_mode:"onecolumn"}),this.goToOneColumn()},onChangeViewToTwoColumnClick:function(e){e.preventDefault(),t(e.currentTarget).addClass("on").siblings(".js-comments-view.on").removeClass("on"),this.api_object.setViewMode(null,{view_mode:"twocolumns"}),this.goToTwoColumns()},goToOneColumn:function(){t("#comments").addClass("force-one-column"),this.checkMode(),t("#comments .scrollable").each((function(e,i){t(i).data("scrollbar")&&t(i).data("scrollbar").removeScrollable(),t(i).removeData("scrollbar"),t(".reply-bodies-holder").css("height","auto")}))},goToTwoColumns:function(){t("#comments").removeClass("force-one-column"),this.checkMode(),this.comment_listing_el.children().each((function(e,i){t(i).find(".scrollable").data("scrollbar")&&t(i).find(".scrollable").data("scrollbar").removeScrollable(),t(i).find(".scrollbar").remove(),t(i).find(".scrollable").data("scrollbar",new Turbulent.Scrollbar({holder:t(i).find(".scrollable")}))}))},onShowAppreciationClick:function(e){e.preventDefault(),t(e.currentTarget).toggleClass("on"),this.api_object.setShowAppreciation(null,{show_appreciation:t(e.currentTarget).hasClass("on")}),t(e.currentTarget).hasClass("on")?t(".appreciate").css("display","inline-block"):t(".appreciate").css("display","none")},drawRepliesGraph:function(e){if(0==t("#graph-"+e.data("id")).children().length){var i=1;e.find(".comment-reply").each((function(e,n){t(n).find(".reply-reply").length>i&&(i=t(n).find(".reply-reply").length)})),this.graph_svg=Raphael("graph-"+e.data("id"));var n=this;Raphael.el.animateAlong=function(t,e,i){this.path=t,this.pathLen=this.path.getTotalLength(),e=void 0===e?5e3:e,i=void 0===i?1:i,n.graph_svg.customAttributes.along=function(t){var e=this.path.getPointAtLength(t*this.pathLen),i={cx:e.x,cy:e.y};return this.rotateWith&&(i.transform="r"+e.alpha),i},this.attr({along:0});var o=Raphael.animation({along:1},e);this.animate(o.repeat(i))},this.lines=new Array,this.circles=new Array,e.find(".comment-reply").each((function(e,n){t(n).data("size",parseInt(t(n).find(".reply-reply").length/i*4)+1)})),e.find(".comment-reply").each((function(i,o){var s="#00ceff";t(o).hasClass("role-tracker")&&(s="#FFEA8E");var r=n.graph_svg.circle(t(o).data("x"),t(o).data("y"),t(o).data("size")).attr({fill:s,"stroke-width":0}),a=parseInt(t("#graph-"+e.data("id")).width()/2),c=parseInt(t("#graph-"+e.data("id")).height()/2),l=30*Math.random()+30,d="M"+(a-l)+","+c+" a "+l+","+(20*Math.random()+5)+" 0 1,1 0,0.1",h=n.graph_svg.path(d).attr({opacity:0});r.animateAlong(h,parseInt(600*Math.random()+4500),1/0)}))}},onCommentClick:function(e){"two-columns"==this.view_mode&&(t(e.currentTarget).hasClass("locked-selected")?(t(e.currentTarget).removeClass("locked-selected"),this.onPageScroll()):(t(e.currentTarget).closest(".comment-listing").find(".locked-selected").removeClass("locked-selected"),t(e.currentTarget).addClass("locked-selected"),this.selectComment(t(e.currentTarget))))},onCommentBodyKeydown:function(e){var i=Math.round(t(e.currentTarget).val().length/500*10);i>9&&(i=9),t(".js-comment-decimal").html(i)},onReplyBodyKeydown:function(e){var i=Math.round(t(e.currentTarget).val().length/300*10);i>9&&(i=9),t(".amount.block .label .js-reply-decimal").html(i)},selectComment:function(e){var i=this;"two-columns"==this.view_mode&&t(e).closest(".js-comment").each((function(e,n){i.growRepliesBox(t(n)),i.drawRepliesGraph(t(n)),t(n).addClass("selected").removeClass("not-selected").siblings(".selected").each((function(e,i){t(i).removeClass("selected").addClass("not-selected"),t(i).find(".reply-bodies-holder").css("height",0)}))}))},growRepliesBox:function(e){if(e.find(".scrollbar").length>0&&"two-columns"==this.view_mode){var i=.75*t(window).height(),n=this.getChildrenHeights(e.find(".reply-bodies"));t(".avatar.content-block3.standard").first().is(":visible")&&n>i&&(n=i),e.find(".scrollable").css("height",n),e.find(".scrollable").data("scrollbar")&&e.find(".scrollable").data("scrollbar").update("relative"),e.find(".reply-bodies-holder").css("height",e.find(".scrollable").outerHeight(!0))}},onPageScroll:function(e){if(!this.scroll_lock_activated){this._super(e);var i=parseInt(t(window).scrollTop()),n=parseInt(t(window).height());if(t("#comments > .comment-submission").length&&(parseInt(i+.75*n)>parseInt(t("#comments > .comment-submission").offset().top)&&parseInt(i+.1*n)<parseInt(t("#comments > .comment-submission").offset().top)?t("#comments > .comment-submission").addClass("highlight"):t("#comments > .comment-submission").removeClass("highlight")),t(".avatar.content-block3.mobile").first().is(":visible")&&"two-columns"==this.view_mode?this.goToOneColumn():t(".avatar.content-block3.standard").first().is(":visible")&&t(".js-to-two-columns").hasClass("on")&&"one-column"==this.view_mode&&this.goToTwoColumns(),"two-columns"==this.view_mode){var o=!1;0==t(".comment-itself.locked-selected").length&&t(".comment-listing > .js-comment").each((function(e,i){if(o=t(i),t(i).offset().top>t(window).scrollTop())return!1})),o&&this.selectComment(o)}t(window).scrollTop()>t(".main-buttons-holder-container").offset().top?(t(".main-buttons-holder").addClass("fixed"),t(".main-buttons-holder").width(t(".comment-listing").width())):(t(".main-buttons-holder").removeClass("fixed"),t(".main-buttons-holder").css("width","auto"))}},loadComments:function(e){var i=location.hash;document.body.scrollHeight;if(!this.reference_id||this.reference_id!=this.comment_listing_el.children(".js-comment:last").data("id")){i.length>0&&0===i.indexOf("#show-comment")?(this.reference_id=i.split("-").pop(),location.hash=""):this.reference_id=this.comment_listing_el.children(".js-comment:last").data("id"),t("#comments .comment-loader").css("opacity",1);var n={id:this.subject_id,reference_id:this.reference_id,subject_type:this.subject_type};e&&(n.sort=e),this.api_object[this.api_function_names.load](this.bindMethod(this.onLoad_CB),n)}},showCommentDeleteConfirm:function(t){t.hasClass("js-comment-reply")&&0==t.prevAll(".js-comment-reply").length&&t.addClass("first"),this._super(t)},onLoad_CB:function(e){t("#comments .comment-loader").css("opacity",0),e.success&&(this.no_results?t("#comments .comment-loader").css("display","none"):t("#comments .comment-loader").css("display","block")),this._super(e),this.comment_listing_el.find(".js-modal-login").attr("href","/connect?jumpto="+this.atom_url),"one-column"==this.view_mode?this.goToOneColumn():this.goToTwoColumns()},insertComment:function(e){this._super(e),this.comment_listing_el.children(".js-comment").each((function(e,i){t(i).find(".scrollable").data("scrollbar")||t(i).find(".scrollable").data("scrollbar",new Turbulent.Scrollbar({holder:t(i).find(".scrollable")}))}))},onSubmit_CB:function(e){this._super(e),e.success&&(this.current_comment.find(".scrollable").each((function(e,i){t(i).data("scrollbar",new Turbulent.Scrollbar({holder:t(i)}))})),this.onPageScroll(),this.comment_count++,t(".comment-count").html(this.comment_count),t("#comments .title-bar .count .value").html('<div class="value">0'+this.comment_count+'.<span class="js-comment-decimal">0</span></div>'),"one-column"==this.view_mode?this.goToOneColumn():this.goToTwoColumns())},onCommentDelete_CB:function(t){var e=!1;this.current_comment.closest(".scrollable").length&&(e=this.current_comment.closest(".scrollable")),this.current_comment.removeClass("loading");var i=this;t.success&&this.current_comment.slideUp(400,(function(){e&&void 0!==e.data("scrollbar")&&e.data("scrollbar").update("relative"),i.onPageScroll()}))},onAddCommentClick:function(e){e.preventDefault(),t(".js-comment-form").slideDown(400,(function(){t(".js-comment-form .js-body").focus()}))},onAddReplyToCommentClick:function(e){e.preventDefault();var i=t(e.currentTarget).closest(".comment-replies").find(".js-reply-to-comment-form");t(e.currentTarget).hasClass("on")?(t(e.currentTarget).removeClass("on"),i.slideUp(400)):(t(e.currentTarget).addClass("on"),i.slideDown(400,(function(){i.find("textarea").focus()})))},onAddReplyToReplyClick:function(e){if(e.preventDefault(),!t(e.currentTarget).hasClass("js-modal-login")){var i=t(e.currentTarget).closest(".comment-reply"),n=(t(e.currentTarget).closest(".comment-replies").find(".reply-bodies"),i.find(".js-reply-to-reply-form"));this.adjustRepliesHeight(t(e.currentTarget),n)}},adjustRepliesHeight:function(t,e){e.height();var i=this;e.is(":animated")||(t.hasClass("on")?(t.removeClass("on"),e.slideUp(400,(function(){i.growRepliesBox(e.closest(".comment-listing > .js-comment"))}))):(t.addClass("on"),e.slideDown(400,(function(){i.growRepliesBox(e.closest(".comment-listing > .js-comment")),"two-columns"==i.view_mode&&t.closest(".scrollable").data("scrollbar").scrollTo(e),window.setTimeout((function(){e.find("textarea").focus()}),400)}))))},getChildrenHeights:function(e){var i=0;return t(e).children().each((function(e,n){t(n).is(":visible")&&(i+=t(n).outerHeight(!0))})),i},onReplyClick:function(t){},onCommentSubmitClick:function(e){e.preventDefault(),t(e.currentTarget).closest(".js-comment-form").submit()},onEditSubmitClick:function(e){e.preventDefault(),t(e.currentTarget).closest(".js-edit-form").submit()},onReplyToCommentSubmitClick:function(e){e.preventDefault(),t(e.currentTarget).closest("form").submit()},onReplyToReplySubmitClick:function(e){e.preventDefault(),t(e.currentTarget).closest("form").submit()},onReplyForm_CB:function(e){if(this.current_comment.find(".js-reply-container").removeClass("lock"),this.current_comment.find(".js-submit").removeClass("loading"),e.success){var i,n,o,s,r=e.data.comment;this.current_comment.hasClass("js-comment-reply")?(i=this.current_comment.find(".js-reply-to-reply"),n=this.current_comment.find(".js-reply-to-reply-form"),o=this.current_comment.closest(".scrollable"),this.current_comment.closest(".reply-bodies"),i.before(r),s=i.prev()):(i=this.current_comment.find(".js-reply-to-comment"),n=this.current_comment.find(".js-reply-to-comment-form"),o=this.current_comment.find(".scrollable"),this.current_comment.find(".reply-bodies").append(r),s=this.current_comment.find(".js-comment-reply").last());var a=this.current_comment.find(".comment-replies").find(".reply-count"),c=parseInt(a.data("reply_count"));a.data("reply_count",c+1),a.html('<div class="label">'+parseInt(c+1)+'.<span class="js-reply-decimal">0</span> Replies</div>'),i.removeClass("on");var l=this;n.slideUp(400,(function(){l.growRepliesBox(n.closest(".comment-listing > .js-comment")),n.find(".js-body").val(""),o&&void 0!==o.data("scrollbar")?(o.data("scrollbar").update("relative"),o.data("scrollbar").scrollTo(s)):t("body,html,document").animate({scrollTop:s.offset().top-40})}))}else{var d=this.current_comment.hasClass("js-comment-reply")?".js-reply-to-reply-form .js-error-message":".js-reply-to-comment-form .js-error-message";this.current_comment.find(d).html(e.msg).stop(!0,!0).fadeIn(500).delay(3500).fadeOut(500)}}})}(jQuery);i(25);!function(t){jSmart.prototype.getTemplate=function(t){return document.getElementById(t).innerHTML},RSI=window.RSI||{},RSI.Common=Turbulent.Object.extend({init:function(t){this._super(),this.bindSelectLists("body"),this.bindFormElements("body"),this.bindAutocompletes("body"),this.bindPagers("body"),this.bindSearchField("body"),this.bindGoogleAnalyticsEventLinks("body"),this.intializeCookieNotifications(),this.intializeToggleOpensRelated("footer"),this.intializeSVGInliner()},intializeToggleOpensRelated:function(t){new RSI.Components.ToggleOpenRelated({target:t+" .js-toggle-open-related"})},intializeSVGInliner:function(t){new RSI.Components.SVG({target:".c-iconed__icon, .js-svg-inliner",operation:"inliner"})},intializeCookieNotifications:function(){window.BottomNotifBar=new RSI.BottomNotifBar({})},bindGoogleAnalyticsEventLinks:function(e){t(e).on("click",".js-google-analytics-event-tracker",this.bindMethod(this.onGoogleAnalyticsEventLinksClick))},onGoogleAnalyticsEventLinksClick:function(e){var i={hitType:"event",eventCategory:t(e.currentTarget).attr("data-event-category"),eventAction:"click",eventLabel:t(e.currentTarget).attr("data-event-label")};return i.eventCategory?i.eventLabel?(t(e.currentTarget).attr("data-event-value")&&(i.eventValue=t(e.currentTarget).attr("data-event-value")),this.trackGoogleAnalyticsEvent(i)):(console.error("GA event tracked element missing mandatory data-event-label attribute",t(e.currentTarget)),!0):(console.error("GA event tracked element missing mandatory data-event-category attribute",t(e.currentTarget)),!0)},trackGoogleAnalyticsEvent:function(t){return window.ga&&window.ga("gtm1.send",t),!0},bindSlider:function(e){e?t(e).find(".checkbox-slider").click(this.bindMethod(this.onSliderClicked,this)):t(document).find(".checkbox-slider").click(this.bindMethod(this.onSliderClicked,this))},onSliderClicked:function(e){t(e.currentTarget).hasClass("on")?(t(e.currentTarget).removeClass("on"),t(e.currentTarget).find("input").val("0").trigger("change")):(t(e.currentTarget).addClass("on"),t(e.currentTarget).find("input").val("1").trigger("change"))},bindSelectLists:function(e){t(e).find(".js-selectlist").each((function(){t(this).data("selectlist")||t(this).hasClass("js-country-selectlist")||t(this).data("selectlist",new Turbulent.SelectList({selectList:t(this),firstDefault:!1})),!t(this).data("selectlist")&&t(this).hasClass("js-country-selectlist")&&t(this).data("selectlist",new Turbulent.SelectCountryList({selectList:t(this),firstDefault:!1}))})),t(".scrollable").each((function(){t(this).data("scrollbar")||(t(this).height(t(this).height()),t(this).data("scrollbar",new Turbulent.Scrollbar({holder:t(this)})))}))},bindFormElements:function(e){t(e).on("click",".radio",this.bindMethod(this.onRadioClick)),t(e).on("change","input[type=radio]",this.bindMethod(this.onRadioChange)),t(e).on("change","input[type=checkbox]",this.bindMethod(this.onCheckboxChange)),t(e).on("click",".js-password-input",this.bindMethod(this.onFakePasswordClick))},bindAutocompletes:function(e){t(e).find(".country-autocomplete").each((function(){t(this).data("autocomplete")||t(this).data("autocomplete",new RSI.Autocomplete({container:t(this),api:Ty.Api.Store.searchCountries}))})),t(e).find(".state-autocomplete").each((function(){t(this).data("autocomplete")||t(this).data("autocomplete",new RSI.RegionAutocomplete({container:t(this),api:Ty.Api.Store.searchRegions}))})),t(e).find(".user-autocomplete").each((function(){t(this).data("autocomplete")||t(this).data("autocomplete",new RSI.UsersAutocomplete({container:t(this),api:RSI.Api.Account.searchAccounts}))})),t(e).find(".leaderboard-user-autocomplete").each((function(){t(this).data("autocomplete")||t(this).data("autocomplete",new RSI.LeaderboardUsersAutocomplete({container:t(this),api:RSI.Api.Account.searchAccounts}))})),t(e).find(".org-autocomplete").each((function(){t(this).data("autocomplete")||t(this).data("autocomplete",new RSI.OrgsAutocomplete({container:t(this),api:RSI.Api.Org.searchOrgs}))})),t(e).find(".leaderboard-org-autocomplete").each((function(){t(this).data("autocomplete")||t(this).data("autocomplete",new RSI.LeaderboardOrgsAutocomplete({container:t(this),api:RSI.Api.Org.searchOrgs}))})),t(e).find(".tag-autocomplete").each((function(){t(this).data("autocomplete")||t(this).data("autocomplete",new RSI.TagAutocomplete({container:t(this),api:RSI.Api.Press.searchTags}))}))},bindPagers:function(e){t(e).on("change",".js-pager input, .js-pager select",this.bindMethod(this.onPagerChange))},bindSearchField:function(e){t(e).on("click",".js-search",this.bindMethod(this.onSearchFieldClick))},onSearchFieldClick:function(e){e.preventDefault(),t("form[name=search]").submit()},onPagerChange:function(e){var i=t(e.currentTarget).val();window.location.href=i},onRadioClick:function(t){t.stopPropagation()},onRadioChange:function(e){t(e.currentTarget).closest("label").toggleClass("on").siblings(".radio.on").removeClass("on")},onCheckboxClick:function(t){t.stopPropagation()},onCheckboxChange:function(e){t(e.currentTarget).closest("label").toggleClass("on")},onFakePasswordClick:function(e){var i=t(e.currentTarget).parent().find("input");t(e.currentTarget).hide(),i.trigger("focus"),t(i).on("blur",this.bindMethod(this.onFakePasswordBlur))},onFakePasswordBlur:function(e){var i=t(e.currentTarget).parent().find(".js-password-input");""==t(e.currentTarget).val()&&i.show()},getPasswordStrength:function(t){var e=t.length-6;e>5&&(e=5);for(var i=new Object,n=0,o=0;o<t.length;o++){var s=t.charAt(o);i[s]||(i[s]=1,n++)}var r=t.replace(/\W/g,""),a=t.length-r.length;a>1&&(a=1);var c=5*e+5*n+5*a;return c<0&&(c=0),c>100&&(c=100),c},validateEmail:function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},getFieldValue:function(e){return t.trim(e.val())},getsToString:function(e){var i=i||"?";return t.each(e,(function(t,e){if(e instanceof Array)for(var n=0;n<e.length;n++)i+=t+"[]="+e[n]+"&";else i+=t+"="+e+"&"})),i}})}(jQuery);i(95);jQuery,Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.Components=RSI.Components||{},RSI.Components.Timer=RSI.Components.Timer||{},RSI.Components.Timer.Time=Backbone.Model.extend({defaults:{days:0,hours:0,minutes:0,seconds:0,past:!1}}),RSI.Components.Timer.Countdown=Backbone.View.extend({initialize:function(t){void 0!==this.el&&(this.model=new RSI.Components.Timer.Time({days:Number(this.$el.data("timer-days")),hours:Number(this.$el.data("timer-hours")),minutes:Number(this.$el.data("timer-minutes")),seconds:Number(this.$el.data("timer-seconds")),past:this.$el.data("timer-past")}),this.render(),this.model.get("past")||(this.model.on("change",_.bind(this.renderChanges,this)),this.timerUpdateInterval=setInterval(_.bind(this.decreaseCounter,this),1e3)))},decreaseCounter:function(){var t=this.model.get("seconds"),e=this.model.get("minutes"),i=this.model.get("hours"),n=this.model.get("days"),o=!1,s=!1;59==(t=t>0?t-1:59)&&(e>0?e--:(e=59,o=!0)),o&&(i>0?i--:(i=23,s=!0)),s&&(n>0?n--:n=0),this.model.set({seconds:t,minutes:e,hours:i,days:n}),0==t&&0==e&&0==i&&0==n&&(this.model.set({past:!0}),clearInterval(this.timerUpdateInterval))},stringFormat:function(t){return"00".substring(0,2-t.toString().length)+t},renderDays:function(){this.animateNumber(this.$el.find(".js-days")),_.delay(function(){this.$el.find(".js-days").html(this.stringFormat(this.model.get("days")))}.bind(this),145)},renderHours:function(){this.animateNumber(this.$el.find(".js-hours")),_.delay(function(){this.$el.find(".js-hours").html(this.stringFormat(this.model.get("hours")))}.bind(this),145)},renderMinutes:function(){this.animateNumber(this.$el.find(".js-minutes")),_.delay(function(){this.$el.find(".js-minutes").html(this.stringFormat(this.model.get("minutes")))}.bind(this),145)},renderSeconds:function(){this.animateNumber(this.$el.find(".js-seconds")),_.delay(function(){this.$el.find(".js-seconds").html(this.stringFormat(this.model.get("seconds")))}.bind(this),145)},renderChanges:function(t){void 0!==t.changed.seconds&&this.renderSeconds(),void 0!==t.changed.minutes&&this.renderMinutes(),void 0!==t.changed.hours&&this.renderHours(),void 0!==t.changed.days&&this.renderDays(),void 0!==t.changed.past&&this.$el.addClass("past-event")},render:function(){this.renderSeconds(),this.renderMinutes(),this.renderHours(),this.renderDays(),this.model.get("past")?this.$el.addClass("past-event"):this.$el.removeClass("past-event")},animateNumber:function(t){t.css({opacity:0}),_.delay((function(){t.css({opacity:1})}),150)}});i(62);!function(t){RSI=window.RSI||{},RSI.CrowdFundingGraph=Turbulent.Object.extend({init:function(e){this._super(e),t(".crowdfunding-stats .numbers .glow-box").bind("click",this.bindMethod(this.loadCrowdfundStats)),this.initPage(e),this.bindPage()},initPage:function(e){this.crowdfunding_timeline_data=e.crowdfunding_timeline_data,this.current_type=t(".crowdfunding-stats .timeline .filters .on").data("type"),this.initCrowdfundingGraph()},bindPage:function(){window.Common.bindSlider(),t(".crowdfunding-stats").off("click",".column.timeline .filter",this.bindMethod(this.onCrowdfundingFilterClick)).on("click",".column.timeline .filter",this.bindMethod(this.onCrowdfundingFilterClick))},checkAutoUpdate:function(e){1==t(".crowdfunding-stats input[name=auto-refresh]").val()&&this.loadCrowdfundStats()},loadCrowdfundStats:function(){if(!this.loadingStats){this.loadingStats=!0;var e={chart:t(".crowdfunding-stats .timeline .filters .on").data("type"),fans:!0,funds:!0,alpha_slots:!0,fleet:!0};t(".crowdfunding-stats .number-counter").removeClass("show-error"),t(".crowdfunding-stats .number-counter").addClass("show-loading"),t(".crowdfunding-stats .bars:not(.instant) .bar").each((function(e){var i=this;setTimeout((function(){t(i).removeClass("on")}),15*e)})),RSI.Api.Stats.getCrowdfundStats(this.bindMethod(this.onCrowdfundingStats,this),e)}},loadCrowdfundingGraph:function(t){RSI.Api.Stats.getCrowdfundStats(this.bindMethod(this.onCrowdfundingGraph,this),{chart:t})},onCrowdfundingStats:function(e){if(this.loadingStats=!1,t(".crowdfunding-stats .number-counter").removeClass("show-loading"),e.success){var i=0,n="[REDACTED]",o="[REDACTED]";e.data.next_goal&&(i=Math.floor(e.data.next_goal.percentage),n=e.data.next_goal.title,o=e.data.next_goal.goal),t("#slots_available_percentage_counter .digits").html(this.addCommas(parseInt(e.data.alpha_slots_percentage))),t("#slots_available_counter .digits").html(this.addCommas(parseInt(e.data.alpha_slots_left))+"<span class='append'>&nbsp; slots left</span>"),t("#funds_raised_counter .digits").html(this.addCommas(parseInt(Math.floor(e.data.funds/100)))),t("#fleet_counter .digits").html(this.addCommas(parseInt(e.data.fleet))),t("#fans_counter .digits").html(this.addCommas(parseInt(e.data.fans))),t("#next_objective a").text(o),t("#next_stretchgoal a").text(n);e.data.alpha_slots_percentage;t("#progress-percentage").html(i+"%"),t(".crowdfunding-stats").each((function(){t(this).find(".bars .bar").slice(0,parseInt(i/100*t(this).find(".bars .bar").length)).each((function(e){var i=this;setTimeout((function(){t(i).addClass("on")}),75*e)}))})),this.onCrowdfundingGraph(e)}else t(".crowdfunding-stats .number-counter").removeClass("show-loading"),t(".crowdfunding-stats .number-counter").addClass("show-error"),e.msg?t(".crowdfunding-stats .number-counter.show-error .js-error").text(e.msg):t(".crowdfunding-stats .number-counter.show-error .js-error").text("error");this.autoUpdate&&setTimeout(this.bindMethod(this.loadCrowdfundStats,this),6e4+6e4*Math.random())},onCrowdfundingGraph:function(e){var i=this,n=0;t.each(e.data.chart,(function(e,o){i.crowdfunding_timeline_data[i.current_type].values[n]=o.gross/100,t(".crowdfunding-stats .x-axis-carousel ."+i.current_type+" > div").eq(n).html(o.axis),n++}));for(var o=this.getMax(),s=this.getMin(),r=(t(".crowdfunding-stats .timeline .filters .on").data("type"),t(".crowdfunding-stats .y-axis-carousel ."+this.current_type+" > div").length-1);r>=0;r--){var a=this.addCommas(parseInt((o-s)/5*r+s));t(".crowdfunding-stats .y-axis-carousel ."+this.current_type+" > div").eq(t(".crowdfunding-stats .y-axis-carousel ."+this.current_type+" > div").length-1-r).html("$"+a)}this.graph_svg?this.goToView(this.crowdfunding_timeline_data[this.current_type]):this.initCrowdfundingGraph()},onCrowdfundingFilterClick:function(e){e.preventDefault(),this.current_type=t(e.currentTarget).data("type"),this.loadCrowdfundingGraph(this.current_type)},goToView:function(t){for(var e=this.getMax(),i=this.getMin(),n=0;n<this.lines.length;n++){var o=50*(n+1)+2,s=50*(n+2)+2,r=(e-i-(t.values[n]-i))/(e-i)*(this.graph_svg.height-10)+5,a=(e-i-(t.values[n+1]-i))/(e-i)*(this.graph_svg.height-10)+5;this.lines[n].animate({path:"M"+o+","+r+"L"+s+","+a},400)}for(var c=0;c<this.circles.length;c++){var l=50*(c+1)+2,d=(e-i-(t.values[c]-i))/(e-i)*(this.graph_svg.height-10)+5;this.circles[c].animate({cx:l,cy:d},400)}},initCrowdfundingGraph:function(){this.yAxisCarousel=new Turbulent.Carousel({holder:t(".crowdfunding-stats .column.timeline .body .y-axis .mask .y-axis-carousel"),pagerContainer:t(".crowdfunding-stats .column.timeline .filters")}),this.xAxisCarousel=new Turbulent.Carousel({holder:t(".crowdfunding-stats .column.timeline .body .x-axis .mask .x-axis-carousel"),pagerContainer:t(".crowdfunding-stats .column.timeline .filters")}),this.graph_svg=Raphael("timeline-chart"),this.lines=new Array,this.circles=new Array;for(var e=this.getMax(),i=(this.getMin(),1);i<this.crowdfunding_timeline_data[this.current_type].values.length;i++){var n=50*i+2,o=50*(i+1)+2,s=(e-this.crowdfunding_timeline_data[this.current_type].values[i-1])/e*(this.graph_svg.height-10)+5,r=(e-this.crowdfunding_timeline_data[this.current_type].values[i])/e*(this.graph_svg.height-10)+5;this.lines[i-1]=this.graph_svg.path("M"+n+","+s+"L"+o+","+r).attr({stroke:"#21528a","stroke-width":1})}for(var a=0;a<this.crowdfunding_timeline_data[this.current_type].values.length;a++){var c=50*(a+1)+2,l=(e-this.crowdfunding_timeline_data[this.current_type].values[a])/e*(this.graph_svg.height-10)+5;this.circles[a]=this.graph_svg.circle(c,l,3).attr({stroke:"#00ceff","stroke-width":2})}setTimeout(this.bindMethod(this.loadCrowdfundStats,this),2e3)},getMax:function(){for(var t=0,e=0;e<this.crowdfunding_timeline_data[this.current_type].values.length;e++)t<this.crowdfunding_timeline_data[this.current_type].values[e]&&(t=this.crowdfunding_timeline_data[this.current_type].values[e]);return t=t||1e-4},getMin:function(){for(var t=!1,e=0;e<this.crowdfunding_timeline_data[this.current_type].values.length;e++)(!1===t||t>this.crowdfunding_timeline_data[this.current_type].values[e])&&(t=this.crowdfunding_timeline_data[this.current_type].values[e]);return t},addCommas:function(t){t=(t=new String(t)).replace(/^\s+|\s+$/g,"");var e=new String(t);e=e.split("").reverse();for(var i="",n=0;n<=e.length-1;n++)i=e[n]+i,(n+1)%3==0&&e.length-1!==n&&(i=","+i);return i}})}(jQuery),function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.Crowdfunding=RSI.Crowdfunding||{},RSI.Crowdfunding.tools={addCommas:function(t){t=(t=new String(t)).replace(/^\s+|\s+$/g,"");var e=new String(t);e=e.split("").reverse();for(var i="",n=0;n<=e.length-1;n++)i=e[n]+i,(n+1)%3==0&&e.length-1!==n&&(i=","+i);return i}},RSI.Crowdfunding.GraphData=Backbone.Model.extend({defaults:{activeSection:"",timeline:{hour:null,day:null,week:null,month:null}}}),RSI.Crowdfunding.Graph=Backbone.View.extend({el:".js-crowdfunding-timeline",events:{"click .js-filter":"changeTimelineFilter"},initialize:function(){this.isRenderingStats=!1,this.model=new RSI.Crowdfunding.GraphData,this.listenTo(this.model,"change:activeSection",this.renderCrowdfundingNav),this.listenTo(this.model,"change:timeline",this.renderCrowdfundingGraph)},changeTimelineFilter:function(e){e.preventDefault(),this.isRenderingStats||(this.isRenderingStats=!0,this.model.set({activeSection:t(e.target).data("type")}),_.defer(function(){this.loadCrowdfundingGraphData(t(e.target).data("type"))}.bind(this)))},loadCrowdfundingGraphData:function(t){this.chartTypeToLoad||(this.chartTypeToLoad=t,RSI.Api.Stats.getCrowdfundStats(_.bind(this.loadCrowdfundingGraphDataCB,this),{chart:t}))},loadCrowdfundingGraphDataCB:function(t){t.success&&(this.addData(this.chartTypeToLoad,t.data.chart),this.chartTypeToLoad=null)},addData:function(t,e){_.each(e,(function(t,e,i){t.gross=Number(Math.round(t.gross/100))}));var i={data:e,min:_.min(e,(function(t){return t.gross})).gross,max:_.max(e,(function(t){return t.gross})).gross},n=Math.round((i.max-i.min)/8);i.axesPadding=n,i.axes=[i.max-n,i.max-3*n,i.min+3*n,i.min+n],this.model.attributes.timeline[t]=i,this.model.trigger("change:timeline",i)},renderCrowdfundingNav:function(t,e,i){this.$el.find(".js-filter.active").removeClass("active"),this.$el.find(".js-filter."+e).addClass("active"),this.$el.find(".js-active-filter-marker").removeClass("section-hour section-day section-week section-month").addClass("section-"+e),this.$el.find(".js-best-recent-type").html(e)},renderCrowdfundingGraph:function(e){var i=0,n=0,o=this.$el.find(".js-columns").height()-18,s=e.min,r=o/(e.max-e.min);_.each(e.data,function(t,e,n){var o=this.$el.find(".js-column").eq(i),a=0==t.gross?0:(t.gross-s)*r+18;_.delay((function(){new TWEEN.Tween({opacity:1}).to({opacity:0},250).easing(TWEEN.Easing.Quintic.InOut).onUpdate((function(){o.find(".js-column-label").css({opacity:this.opacity,filter:"alpha(opacity="+Math.round(100*this.opacity)+")"})})).onComplete((function(){o.find(".js-column-label").html(t.axis)})).chain(new TWEEN.Tween({opacity:0}).to({opacity:1},250).easing(TWEEN.Easing.Quintic.InOut).onUpdate((function(){o.find(".js-column-label").css({opacity:this.opacity,filter:"alpha(opacity="+Math.round(100*this.opacity)+")"})}))).start(),new TWEEN.Tween({height:o.find(".js-column-value").height()}).to({height:isNaN(a)?0:a},250).easing(TWEEN.Easing.Quintic.InOut).onUpdate((function(){o.find(".js-column-value").css({height:this.height})})).start()}),80*i),i++}.bind(this)),_.each(this.$el.find(".js-line-label"),function(i,o,s){_.delay((function(){new TWEEN.Tween({opacity:1}).to({opacity:0},250).easing(TWEEN.Easing.Quintic.InOut).onUpdate((function(){t(i).css({opacity:this.opacity})})).onComplete((function(){t(i).html(RSI.Crowdfunding.tools.addCommas(e.axes[o]))})).chain(new TWEEN.Tween({opacity:0}).to({opacity:1},250).easing(TWEEN.Easing.Quintic.InOut).onUpdate((function(){t(i).css({opacity:this.opacity,filter:"alpha(opacity="+Math.round(100*this.opacity)+")"})}))).start()}),115*n),n++}.bind(this)),new TWEEN.Tween({opacity:1}).to({opacity:0},250).easing(TWEEN.Easing.Quintic.InOut).onUpdate(function(t){var e=1-t;this.$el.find(".js-amount").css({opacity:e,filter:"alpha(opacity="+Math.round(100*this.opacity)+")"})}.bind(this)).onComplete(function(){this.$el.find(".js-amount").html(RSI.Crowdfunding.tools.addCommas(e.max))}.bind(this)).chain(new TWEEN.Tween({opacity:0}).to({opacity:1},250).easing(TWEEN.Easing.Quintic.InOut).onUpdate(function(t){this.$el.find(".js-amount").css({opacity:t,filter:"alpha(opacity="+Math.round(100*this.opacity)+")"})}.bind(this)).onComplete(function(){this.isRenderingStats=!1}.bind(this))).start(),this.animate()},animate:function(t){requestAnimationFrame(_.bind(this.animate,this)),TWEEN.update(t)}}),RSI.Crowdfunding.LiveStats=Backbone.View.extend({el:".js-crowdfunding-live-stats",initialize:function(t){this.graph=new RSI.Crowdfunding.Graph,this.loadCrowdfunding("day")},events:{},loadCrowdfunding:function(t){if(!this.loadingStats){this.loadingStats=!0,this.chartTypeLoaded=t;var e={chart:t,fans:!0,fleet:!0};this.$el.find(".js-number-counter").removeClass("show-error").addClass("show-loading"),RSI.Api.Stats.getCrowdfundStats(_.bind(this.loadCrowdfundingCB,this),e)}},loadCrowdfundingCB:function(t){this.renderCrowdfundingStats(t),t.success&&this.graph&&(this.graph.model.set({activeSection:this.chartTypeLoaded}),t.data.chart&&this.graph.addData(this.chartTypeLoaded,t.data.chart))},renderCrowdfundingStats:function(t){this.$el.find(".js-number-counter").removeClass("show-loading"),t.success?(this.$el.find(".js-fans-counter").find(".js-digits").html(RSI.Crowdfunding.tools.addCommas(t.data.fans)),this.$el.find(".js-fleet-counter").find(".js-digits").html(RSI.Crowdfunding.tools.addCommas(t.data.fleet))):(this.$el.find(".js-fans-counter").addClass("show-error"),t.msg?this.$el.find(".js-error").text(t.msg):this.$el.find(".js-error").text("error"))}})}(jQuery),function(t){RSI=window.RSI||{},RSI.Enlist=Turbulent.Object.extend({isLoading:!1,fields:{username:!1,password:!1,password_confirm:!1,email:!1,email_confirm:!1,displayname:!1,nickname:!1,birthday:!1,birth_day:!1,birth_month:!1,birth_year:!1,captcha:!1,terms:!1},init:function(e){this._super(e),this.enlistForm=t(".enlist-form"),this.success_url=e.success_url,this.regenerateCaptcha(),this.formProcessor=new Turbulent.Form({form_selector:this.enlistForm}),this.enlistForm.find("input[type=text]").bind("focus",this.bindMethod(this.onFieldFocus,this)),this.enlistForm.find("input[type=password]").bind("focus",this.bindMethod(this.onFieldFocus,this)),this.enlistForm.find("input[type=text]").bind("blur",this.bindMethod(this.onFieldBlur,this)),this.enlistForm.find("input[type=password]").bind("blur",this.bindMethod(this.onFieldBlur,this)),this.enlistForm.find("input[name=password]").bind("keyup",this.bindMethod(this.passwordKeyup,this)),this.enlistForm.find("input[type=submit]").bind("click",this.bindMethod(this.onSubmit,this)),this.enlistForm.find(".js-birth_year,.js-birth_month,.js-birth_day").bind("change",this.bindMethod(this.onBirthdayChange,this)),this.enlistForm.find("input[name=terms]").bind("click",this.bindMethod(this.onTermsClick,this)),this.enlistForm.find("input[name=nickname]").bind("keyup",this.bindMethod(this.nicknameKeyup,this)),this.enlistForm.find(".js-captcha-generate").bind("click",this.bindMethod(this.regenerateCaptcha,this)),this.enlistForm.find(".js-captcha").mask("9999",{placeholder:"XXXX",autoclear:!1}),this.enlistForm.find(".js-referral-code").mask("****-****-****",{placeholder:"XXXX-XXXX-XXXX"}),window.Enlist=this},onSubmit:function(t){if(t.stopPropagation(),this.isLoading)return!1;var e=!0;for(var i in this.fields)this.fields[i]||(e=!1);if(!e)return!1;var n=this.formProcessor.getFormData();return window.Mark&&(n.mark=window.Mark.generate(!0)),n.birthday=n.birth_year+"-"+n.birth_month+"-"+n.birth_day,this.isLoading=!0,this.enlistForm.find(".submit-wrapper").addClass("loading"),RSI.Api.Account.enlist(this.bindMethod(this.onEnlist,this),n),!1},onEnlist:function(t){if(this.enlistForm.find(".submit-wrapper").removeClass("loading"),t.success){var e=RSI.translate("modal_enlist_success");window.Main.openSuccessModal(e,this.onEnlistSuccessCallback.bind(this))}else this.regenerateCaptcha(),this.showEnlistErrors(t),this.isLoading=!1},onEnlistSuccessCallback:function(t){RSI.eventDispatcher.trigger("enlist:success"),document.location.reload()},showEnlistErrors:function(e){var i,n=e.data;if("ErrInvalidChallengeCode"==e.code)return i=t("input[name=captcha]"),void this.showError(i,"Bad Captcha");for(var o in e.data&&e.data.properties&&(n=e.data.properties),n){i=t("input[name="+o+"]");var s=n[o];"birthday"==o&&(this.fields[o]=!1,o="birth_day"),this.fields[o]=!1,this.showError(i,s)}},onFieldFocus:function(e){var i=t(e.currentTarget),n=(i.val(),t("."+i.attr("data-msg")));i.attr("name");i.parent().find(".js-password-input").hide(),n.addClass("active")},onFieldBlur:function(e){var i=t(e.currentTarget),n=i.val(),o=t("."+i.attr("data-msg"));i.attr("name");o.removeClass("active"),""==n&&i.parent().find(".js-password-input").show(),this.onValidateField(e)},onValidateField:function(e){var i=t(e.currentTarget),n=i.attr("name"),o=t("."+i.attr("data-msg"));this.msg=o;t.trim(this.getFieldValue(this.enlistForm.find("input[name="+n+"]")));"password_confirm"==n||"password"==n?this.validPassword():"username"==n?this.validUsername():"email"==n||"email_confirm"==n?this.validEmail():"displayname"==n?this.validDisplayname():"nickname"==n?this.validNickname():"referral_code"==n?this.validReferralCode():"captcha"==n&&this.validCaptcha()},validPassword:function(){var t,e=this.getFieldValue(this.enlistForm.find("input[name=password]")),i=this.getFieldValue(this.enlistForm.find("input[name=password_confirm]")),n=this.enlistForm.find("input[name=password]"),o=this.enlistForm.find("input[name=password_confirm]"),s=e;return""==e?(n.removeClass("success").removeClass("error"),this.fields.password=!1,this.resetField(n),this.resetPasswordLvl(),!1):s.length<8?(t="Minimum of 8 characters",this.fields.password=!1,this.showError(n,t),this.resetPasswordLvl(),!1):this.updatePasswordStrength(s)<2?(t="Must be stronger: add unique characters",this.fields.password=!1,this.showError(n,t),!1):(this.fields.password=!0,this.showSuccess(n),""==i?(o.removeClass("success").removeClass("error"),this.fields.password_confirm=!1,this.resetField(o),!1):e!=i?(t="Passwords must match",this.fields.password_confirm=!1,this.showError(o,t),!1):(this.fields.password_confirm=!0,void this.showSuccess(o)))},validEmail:function(){var t,e=this.getFieldValue(this.enlistForm.find("input[name=email]")),i=this.getFieldValue(this.enlistForm.find("input[name=email_confirm]")),n=this.enlistForm.find("input[name=email]"),o=this.enlistForm.find("input[name=email_confirm]"),s=e;return""==e?(n.removeClass("success").removeClass("error"),this.fields.email=!1,this.resetField(n),!1):window.Common.validateEmail(s)?(this.showSuccess(n),""==i?(o.removeClass("success").removeClass("error"),this.fields.email_confirm=!1,this.resetField(o),!1):e!=i?(t="Emails must match.",this.fields.email_confirm=!1,this.showError(o,t),!1):(this.fields.email_confirm=!0,this.showSuccess(o),void RSI.Api.Account.checkEmailAvailability(this.bindMethod(this.onCheckEmailAvailability,this),{email:s}))):(t="Invalid email",this.fields.email=!1,this.showError(n,t),!1)},validUsername:function(t){var e,i=this.enlistForm.find("input[name=username]"),n=i.attr("name"),o=window.Main.getFieldValue(i);return this.resetField(i),""==o?(i.removeClass("success").removeClass("error"),this.fields[n]=!1,!1):o&&o.length<3?(e=RSI.translate("RSI_enlist_validation_too_short"),this.fields[n]=!1,this.showError(i,e),!1):o&&o.length>50?(e=RSI.translate("RSI_enlist_validation_too_long",{num:"50"}),this.fields[n]=!1,this.showError(i,e),!1):""==o?(this.fields.username=!1,this.resetField(i),!1):(this.validDisplayname(),this.validNickname(),this.fields.username=!0,this.showSuccess(i),!0)},validDisplayname:function(e){var i,n=this.enlistForm.find("input[name=displayname]"),o=n.attr("name"),s=window.Main.getFieldValue(n);if(this.resetField(n),""==s)return n.removeClass("success").removeClass("error"),this.fields[o]=!1,!1;if(s&&s.length>30)return i=RSI.translate("RSI_enlist_validation_too_long",{num:"30"}),this.fields[o]=!1,this.showError(n,i),!1;var r=window.Main.getFieldValue(this.enlistForm.find("input[name=username]"));return t.trim(s.toLowerCase())==t.trim(r.toLowerCase())?(i=RSI.translate("RSI_enlist_validation_diff_loginid"),this.fields[o]=!1,this.showError(n,i),!1):(this.fields[o]=!0,this.showSuccess(n),!0)},resetPasswordLvl:function(){t(".msg-password").removeClass("good");for(var e=1;e<=4;e++)t(".js-psw-lvl-"+e).removeClass("on")},onBirthdayChange:function(t){var e=this.enlistForm.find("input[name=birthday]"),i=e.attr("name");this.fields[i]=!0,0==this.fields.birthday&&(this.fields.birth_day=!0,this.fields.birthday=!0);var n=this.enlistForm.find(".js-birth_year").val(),o=this.enlistForm.find(".js-birth_month").val()-1,s=this.enlistForm.find(".js-birth_day").val();this.fields.birth_year=!!n,this.fields.birth_month=o>=0,this.fields.birth_day=!!s;var r=new Date(n,o,s);n&&s&&(o||0==o)?RSI.Api.Account.checkIsBetweenDesiredAge(this.bindMethod(this.onCheckIsBetweenDesiredAge,this),{birthdate:r}):this.activateField(e)},onCheckIsBetweenDesiredAge:function(e){var i=this.enlistForm.find("input[name=birthday]");if(!e.success)return this.fields.birthday=!1,this.showError(i,e.data),void t(".birthdate.selectlist").removeClass("success").addClass("error");this.fields.birthday=!0,t(".birthdate.selectlist").removeClass("error").addClass("success"),this.showSuccess(i),this.enableSubmit()},onTermsClick:function(t){0==this.fields.terms?this.fields.terms=!0:this.fields.terms=!1,this.enableSubmit()},onCheckEmailAvailability:function(t){if(t.success)if(1==t.data)this.fields.email=!0,this.showSuccess(this.enlistForm.find("input[name=email]"));else{var e=RSI.translate("error_email_taken");this.fields.email=!1,this.showError(this.enlistForm.find("input[name=email]"),e)}else this.openErrorModal("An error occured checking availability.")},onCheckNicknameAvailability:function(t){var e=this.enlistForm.find("input[name=nickname]"),i=e.attr("name");if(t.success)if(1==t.data)this.fields[i]=!0,this.showSuccess(e);else{this.fields[i]=!1,this.showError(e,"Already taken")}else window.Main.openErrorModal("An error occured checking availability.")},showSuccess:function(e,i){e.addClass("success").removeClass("error");var n=t("."+e.data("msg"));n.removeClass("error").addClass("good"),n.find(".msg-good").text(i||""),n.find(".msg-error").text(""),this.enableSubmit()},showError:function(e,i){e.addClass("error").removeClass("success");var n=t("."+e.data("msg"));n.removeClass("good").addClass("error"),n.find(".msg-error").text(i||""),n.find(".msg-good").text(""),this.enableSubmit()},resetField:function(e){t("."+e.data("msg")).removeClass("error good"),this.enableSubmit()},activateField:function(e){var i=t("."+e.data("msg"));i.removeClass("error good"),i.addClass("active"),this.enableSubmit()},enableSubmit:function(){var e=!0,i=this;this.enlistForm.find(".js-form-data").each((function(){var n=t(this).attr("name");0==i.fields[n]?(console.log("Field "+n+" is not valid."),e=!1):console.log("Field "+n+" is OK.")})),e?t(".submit-wrapper").removeClass("disabled").addClass("active"):t(".submit-wrapper").addClass("disabled").removeClass("active")},getFieldValue:function(t){return t.val()},nicknameKeyup:function(t){window.clearTimeout(this.timeout),this.timeout=window.setTimeout(this.bindMethod(this.validNickname,this),800)},validNickname:function(e){var i,n=this.enlistForm.find("input[name=nickname]"),o=n.attr("name"),s=window.Main.getFieldValue(n);if(this.resetField(n),""==s)return n.removeClass("success").removeClass("error"),this.fields[o]=!1,!1;if(s&&s.length<3)return i=RSI.translate("RSI_enlist_validation_too_short"),this.showError(n,i),this.fields[o]=!1,!1;var r=window.Main.getFieldValue(this.enlistForm.find("input[name=username]"));if(t.trim(s.toLowerCase())==t.trim(r.toLowerCase()))return i=RSI.translate("RSI_enlist_validation_diff_loginid"),this.showError(n,i),this.fields[o]=!1,!1;RSI.Api.Account.checkNicknameAvailability(this.bindMethod(this.onCheckNicknameAvailability,this),{nickname:s})},validReferralCode:function(t){var e=this.enlistForm.find("input[name=referral_code]"),i=(e.attr("name"),window.Main.getFieldValue(e));return this.resetField(e),i&&14==i.length?"XXXX-XXXX-XXXX"==i?(e.removeClass("success").removeClass("error"),e.val(""),e.parent().parent().removeClass("validated"),!1):(e.val(e.val().toUpperCase()),void RSI.Api.Account.checkReferralCode(this.bindMethod(this.onCheckReferralCode,this),{code:i})):(this.showError(e,"Invalid Code"),e.parent("fieldset").removeClass("validated"),!1)},onCheckReferralCode:function(t){var e=this.enlistForm.find("input[name=referral_code]");e.attr("name");if(t.success)if(1==t.data)this.showSuccess(e),e.parent().parent().addClass("validated");else{this.showError(e,"Invalid Code"),e.parent().parent().removeClass("validated")}else window.Main.openErrorModal(t.msg)},validCaptcha:function(t){var e=this.enlistForm.find("input[name=captcha]"),i=(e.attr("name"),window.Main.getFieldValue(e));return""==i||"XXXX"==i?(e.removeClass("success").removeClass("error"),this.resetField(e),!1):4!=i.length||-1!=i.indexOf("X")?(this.showError(e,"Bad Captcha"),this.fields.captcha=!1,!1):(this.showSuccess(e),this.fields.captcha=!0,void this.enableSubmit())},onShow:function(){this._super(),window.Common.bindSelectLists(this.enlistForm)},regenerateCaptcha:function(e){e&&e.preventDefault(),t(".captcha").find("img").attr("src","/api/captcha?t="+Math.round(+new Date/1e3)),t("input[name=captcha]").removeClass("success").removeClass("error").val(""),this.resetField(t("input[name=captcha]")),t(".captcha").show()},updatePasswordStrength:function(e){var i=window.Common.getPasswordStrength(e);i=Math.floor(i/100*4),t(".error-level-line.on").removeClass("on");for(var n=1;n<=i;n++)t(".js-psw-lvl-"+n).addClass("on");return i},passwordKeyup:function(e){var i=t(e.target).val();this.updatePasswordStrength(i)}})}(jQuery),RSI=window.RSI||{},RSI.Events=Turbulent.Object.extend({init:function(t){this._super(),this.initMembers(),this.bindPage()},initMembers:function(){this.selector=$(".js-events-list")},bindPage:function(){this.selector.on("click",".js-expand",this.bindMethod(this.expandRow))},expandRow:function(t){t.preventDefault();var e=$(t.currentTarget).closest(".event-item");e.toggleClass("open"),e.hasClass("open")?e.find(".js-expand .label").html("hide"):e.find(".js-expand .label").html("details")}});i(97);!function(t){RSI=window.RSI||{},RSI.Footer=Turbulent.Object.extend({init:function(e){this._super(),this.footer=t(".c-platform-footer "),this.bindMethods(e),this.polyfillMatchesForIE(),window.addEventListener("DOMContentLoaded",this.bindMethod(this.columnEqualHeight)),window.addEventListener("resize",_.debounce(this.bindMethod(this.columnEqualHeight,this),200)),window.addEventListener("resize",_.debounce(this.bindMethod(this.openSubMenuResize,this),200))},bindMethods:function(t){this.footer.find(".js-toggle-arrow").bind("click",this.bindMethod(this.openSocialMenu,this)),this.footer.find(".js-footer-open-sub-menu").bind("click",this.bindMethod(this.openSubMenu,this))},openSubMenuResize:function(e){e.preventDefault();t(e.target).closest(".c-platform-footer__column");window.matchMedia("(min-width: 1024px)").matches&&this.footer.find(".c-platform-footer__column").removeClass("is-open social-is-open")},openSubMenu:function(e){e.preventDefault();var i=t(e.target).closest(".c-platform-footer__column");i.hasClass("is-open")?i.removeClass("is-open social-is-open"):(this.footer.find(".c-platform-footer__column").removeClass("is-open social-is-open"),i.addClass("is-open"))},polyfillMatchesForIE:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector)},columnEqualHeight:function(){var e=this.footer.find(".c-platform-footer-brand");if(window.matchMedia("(min-width: 1024px)").matches){var i=e.map((function(e,i){return parseInt(t(i).height())})),n=Math.max.apply(Math,i);e.height(n)}else e.removeAttr("style")},openSocialMenu:function(e){e.preventDefault();var i=t(e.target).closest(".c-platform-footer__column");i.hasClass("social-is-open")?i.removeClass("social-is-open"):(this.footer.find(".c-platform-footer__column").removeClass("social-is-open"),i.addClass("social-is-open"))}})}(jQuery),function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.FullCarousel=Turbulent.Carousel.extend({init:function(e){this.holder=t(e.holder),this.container=e.container?e.container:t(document),this.needToLoadImg=!!e.needToLoadImg&&e.needToLoadImg,this.disableButtons=e.disableButtons,e.margin_width_percentage?this.margin_width_percentage=e.margin_width_percentage:this.margin_width_percentage=0,e.fitScreen&&this.resizeItems(),this._super(e),this.needToLoadImg&&(this.carouselLength=this.length>0?this.length:1,this.loadImg("current"),this.loadImg("next"),this.loadImg("prev")),e.fitScreen&&t(window).bind("resize",this.bindMethod(this.onWindowResize)),e.clickToFullScreen&&this.holder.children().bind("click",this.bindMethod(this.onFullScreenItemClick)),e.useKeys&&t(document).unbind("keydown",this.bindMethod(this.onKeydownPress)).bind("keydown",this.bindMethod(this.onKeydownPress)),e.timeout&&(this.holder.on("mouseenter",this.bindMethod(this.killScrollTimer)),this.holder.on("mouseleave",this.bindMethod(this.initScrollTimer)),this.initScrollTimer())},onKeydownPress:function(t){37==t.keyCode&&this.moveToPrev(),39==t.keyCode&&this.moveToNext()},onNextBtnClick:function(e){e.preventDefault(),t(this.params.nextButton).hasClass("disabled")||this._super(e),this.disableButtons&&(t(this.params.prevButton).addClass("disabled"),t(this.params.nextButton).addClass("disabled"))},checkArrows:function(){this.disableButtons&&(t(this.params.prevButton).removeClass("disabled"),t(this.params.nextButton).removeClass("disabled")),this._super()},onPrevBtnClick:function(e){e.preventDefault(),t(this.params.prevButton).hasClass("disabled")||this._super(e),this.disableButtons&&(t(this.params.prevButton).addClass("disabled"),t(this.params.nextButton).addClass("disabled"))},onFullScreenItemClick:function(e){t("#slideshow")[0];window.Main.openSlideshowModal(e)},onFullScreenExit:function(e){document.mozFullScreenElement||document.webkitFullscreenElement||document.fullscreenElement||(t(document).unbind("webkitfullscreenchange mozfullscreenchange fullscreenchange",this.bindMethod(this.onFullScreenExit)),t("#slideshow").removeClass("full"),t("#slideshow .carousel > div").each((function(e,i){t(i).css("background-image",t(i).data("original"))})),t("#slideshow").data("carousel").unsetToFitScreen())},setToFitScreen:function(){this.resizeItems(),t(window).bind("resize",this.bindMethod(this.onWindowResize))},unsetToFitScreen:function(){this.width=this.holder.closest(".mask").width(),this.displayItemsWidth=this.width,this.holder.css("left",this.index*this.width*-1),this.holder.children().each((function(e,i){t(i).width(t(i).closest(".mask").width())})),t(window).unbind("resize",this.bindMethod(this.onWindowResize)),this.resetWidth()},onWindowResize:function(t){var e=this.container.jquery?this.container.width():this.container.innerWidth;this.width=e*(1-this.margin_width_percentage),this.displayItemsWidth=this.width,this.resizeItems(),this.resetWidth(),this.holder.css("left",this.index*this.width*-1)},resizeItems:function(e){var i=this,n=this.container.jquery?this.container.width():this.container.innerWidth;this.holder.children().each((function(e,o){t(o).width(n*(1-i.margin_width_percentage))}))},moveToNext:function(){var t=document.getElementById("swf_video_"+(this.index-1));t&&void 0!==t.onPause&&t.onPause(),this._super(),this.holder.children(".on").removeClass("on"),this.loadImg("next")},moveToPrev:function(){this._super();var t=document.getElementById("swf_video_"+this.index);t&&void 0!==t.onPause&&t.onPause(),this.holder.children(".on").removeClass("on"),this.loadImg("prev")},initScrollTimer:function(){this.play()},killScrollTimer:function(){this.pause()},pagerContainerClick:function(t){this._super(t),this.loadImg("current"),this.loadImg("next"),this.loadImg("prev")},loadImg:function(e){if(this.needToLoadImg){var i=("next"==e?this.index+1:"prev"==e?this.index-1:this.index)%this.carouselLength;if(i<=0&&(i+=this.carouselLength),!this.holder.find(".js-media-slideshow-"+i).data("img-loaded")){var n=this.holder.find(".js-media-slideshow-"+i).data("img-loaded",!0);n.length&&(n.find("img").attr("srcset",n.find("img").data("srcset")),t.each(n.find("source"),(function(e,i){t(i).attr("srcset",t(i).data("srcset"))})),picturefill({reevaluate:!0}))}}}})}(jQuery),function(t){RSI=window.RSI||{},RSI.Help=Turbulent.Object.extend({isLoading:!1,init:function(e){this._super(e),this.holder=t("#help .help"),this.bindMethods()},bindMethods:function(e){this.formProcessor=new Turbulent.Form({form_selector:this.holder.find("form").first()}),this.holder.find(".js-submit").bind("click",this.bindMethod(this.onContactSubmitClick,this)),this.holder.find("input[type=text],textarea").bind("focus",this.bindMethod(this.onFieldFocus,this)),this.holder.find("input[type=text],textarea").bind("blur",this.bindMethod(window.Main.onFieldBlur,this));var i=this.holder.find(".category-info");this.holder.on("change",'[name="category"]',(function(e){var n,o=t(this).val();o.length&&(n=i.find("#"+o+"_info"),i.children().each((function(){t(this).hide()})),n.length&&n.show())})),window.Common.bindSelectLists(this.holder.find("form").first())},onFieldFocus:function(e){t(e.currentTarget).val()},onContactSubmitClick:function(e){if(e.preventDefault(),this.isLoading)return!1;var i,n,o=t.trim(this.getFieldValue(this.holder.find("input[name=email]"))),s=t.trim(this.getFieldValue(this.holder.find("input[name=subject]"))),r=t.trim(this.getFieldValue(this.holder.find("textarea"))),a=this.holder.find("input[name=category]").val();return this.holder.find("input[name=email]").length>0&&(""==s||""==r||""==o)||""==s||""==r?(i=RSI.translate("error_empty_field"),t("#contact .js-error-message").html(i),t("#contact .js-error-message").fadeIn(300),!1):(this.loading=!0,this.holder.find(".submit-wrapper").addClass("loading"),n=this.holder.find("input[name=email]").length>0?{email:o,subject:s,category:a,message:r}:{subject:s,category:a,message:r},void RSI.Api.CS.createTicket(this.bindMethod(this.onContactSubmit,this),n))},showError:function(e){t("#contact .js-success-message").hide(),t("#contact .js-error-message").html(e),t("#contact .js-error-message").fadeIn(300)},showSuccess:function(e){t("#contact .js-error-message").hide(),t("#contact .js-success-message").html(e),t("#contact .js-success-message").fadeIn(300)},onContactSubmit:function(e){if(this.loading=!1,this.holder.find(".submit-wrapper").removeClass("loading"),e.success){t("input[name=email]").val("").trigger("blur"),t("input[name=subject]").val("").trigger("blur"),t("textarea[name=text]").val("").trigger("blur");var i=RSI.translate("contact_modal_success");this.showSuccess(i)}else{var n=e.msg+"<br/>";if(e.data instanceof Object)for(var o in e.data)n+="<b>"+o+"</b> : "+e.data[o]+"<br/>";this.showError(n)}},getFieldValue:function(t){return t.val()}})}(jQuery);i(116),i(117);jQuery,RSI=window.RSI||{},RSI.Location=Turbulent.Object.extend({init:function(t){this._super(t)},hasNewslettersBadge:function(t){var e=new XMLHttpRequest;({})["X-"+RSI.Api.TOKEN_NAME]=jQuery.cookie(RSI.Api.TOKEN_NAME),e.open("POST","/api/account/badge/getBadges",!0),e.setRequestHeader("X-"+RSI.Api.TOKEN_NAME,jQuery.cookie(RSI.Api.TOKEN_NAME)),e.onreadystatechange=function(i){if(4==e.readyState&&200==e.status){var n=JSON.parse(e.responseText).data.badges,o=Object.keys(n).some((function(t){return n[t].indexOf("Newsletter")>=0}));t(o||!1)}},e.send()}}),function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.eventDispatcher=_.extend(Backbone.Events),RSI.Main=Turbulent.Object.extend({init:function(e){this.is_mobile=!!e.is_mobile&&e.is_mobile,this.probation_cookie=!!e.probation_cookie&&e.probation_cookie,this.require_captcha=e.require_captcha||!1,this._super(),this.initModals(),this.initMenu(),this.initCountdown(),t(document).on("click",".js-sign-out",this.bindMethod(this.signout)),t(document).on("click",".error-message.probation .js-close",this.bindMethod(this.hideMessage)),t(".is_tablet .nav").bind("touchstart, click",(function(t){t.preventDefault(),t.stopPropagation}))},initMenu:function(){t(document).on("click","#nav-mobilemenu .js-mobile-item",this.bindMethod(this.openMobileItem)),t(document).on("click","#nav-mobilemenu .js-back",this.bindMethod(this.backMobile))},initCountdown:function(){t(".js-global-countdown").each((function(e,i){var n=t(i).find(".js-time-countdown").data("class");t(i).data("time_countdown",new RSI.TimeCountdown({days_selector:t("#time_countdown_days"+n),hours_selector:t("#time_countdown_hours"+n),minutes_selector:t("#time_countdown_minutes"+n),seconds_selector:t("#time_countdown_seconds"+n)}))}))},initFlightBoard:function(){t(".js-flight-board").each((function(e,i){t(i).data("flight_board",new RSI.FlightBoard({$el:t(i)}))}))},openMobileItem:function(e){e.preventDefault();var i=t(e.currentTarget).attr("rel");i=t("#"+i),this.item=i,i.css({right:0}),t("#nav-mobilemenu .subnav-col > a").css({opacity:0})},backMobile:function(e){e.preventDefault(),this.item.css({right:"-100%"}),t("#nav-mobilemenu .subnav-col > a").css({opacity:1})},initModals:function(){this.is_mobile||t(document).on("click",".js-modal-login",this.bindMethod(this.openLoginModal)),t(document).on("click",".js-modal-outbound",this.bindMethod(this.openOutboundModal)),t(".js-open-in-slideshow").unbind("click",this.bindMethod(this.openSlideshowModal)).bind("click",this.bindMethod(this.openSlideshowModal))},openModal:function(t){this.closeModal(),this.modal=t,this.modal.fadeIn()},closeModal:function(t){this.modal&&(this.modal.hide(),this.modal&&this.modal.holder&&this.modal.destroy())},hideMessage:function(e){e.preventDefault(),t(".probation-wrapper .error-message.probation").hide(),this.probation_cookie&&jQuery.cookie(this.probation_cookie,1,{path:"/"})},renderTemplate:function(e,i){var n=t(e).html();return new jSmart(n).fetch(i)},openSlideshowModal:function(e){e.preventDefault(),this.closeModal();var i=0;if(!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.fullscreenElement){var n=new Array;t("[rel="+t(e.currentTarget).attr("rel")+"]:not(.copy)").each((function(o,s){n[o]={},n[o].source_url=t(s).data("source_url"),n[o].full_res=t(s).data("full_res"),n[o].low_res=t(s).data("low_res"),n[o].is_video=t(s).data("is_video"),n[o].id=t(s).data("id"),n[o].title=t(s).find(".caption").html(),t(s).data("source_url")==t(e.currentTarget).data("source_url")&&(i=o)}));var o=new Date;this.modal=new RSI.SlideshowLightbox({content:this.renderTemplate("#tpl_modals_slideshow",{images:n,index:i,year:o.getFullYear()}),class_name:"modals slideshow-lightbox",noclose_btn:!0}),this.modal.current_target=t(e.currentTarget),window.slideshow_images=n,this.modal.fadeIn(300,null,(function(){t.each(window.slideshow_images,(function(e,i){if(i.is_video){var n={wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},o={};o.media=i.source_url;var s={id:"swf_video_"+e,name:"swf_video_"+e};swfobject.embedSWF("/rsi/static/swf/playerVideo.swf","slideshow_video_"+e,"100%","100%","9.0.0",!1,o,n,s,(function(i){i.success||(t("#slideshow_video_"+e+" video")[0].src=t("#slideshow_video_"+e).data("source"),t("#slideshow_video_"+e+" video").load())}))}}))}))}},openLoginModal:function(e){e.preventDefault(),t(".c-header-wrapper").addClass("is-menu-open is-account-open is-full-screen")},openOutboundModal:function(e){e.preventDefault(),this.closeModal();var i=t(e.currentTarget).attr("href");this.modal=new RSI.Outbound({content:this.renderTemplate("#tpl_outbound",{}),class_name:"modals outbound",noclose_btn:!0,url:i}),this.modal.current_target=t(e.currentTarget),this.modal.fadeIn(300)},openErrorModal:function(e,i){e=e||"<strong>WARNING !</strong> Text missing in openErrorModal !",i=i||null,this.closeModal(),this.modal=new RSI.Lightbox({content:this.renderTemplate("#tpl_error",{}),class_name:"modals",noclose_btn:!0}),t(".js-modal-error .js-modal-text").html(e),this.modal.modalCenter(),this.modal.fadeIn(300),i&&t(document).bind("click",".js-close",this.bindMethod(i))},openSuccessModal:function(e,i){e=e||"<strong>WARNING !</strong> Text missing in openSuccessModal !",i=i||null,this.closeModal(),this.modal=new RSI.Lightbox({content:this.renderTemplate("#tpl_success",{}),class_name:"modals",noclose_btn:!0}),t(".js-modal-success .js-modal-text").html(e),this.modal.modalCenter(),this.modal.fadeIn(300),i&&t(document).bind("click",".js-close",this.bindMethod(i))},openCommunitySuccessModal:function(e,i){e=e||"<strong>WARNING !</strong> Text missing in openCommunitySuccessModal !",i=i||null,this.closeModal(),this.modal=new RSI.Lightbox({content:this.renderTemplate("#tpl_community_success",{}),class_name:"modals",noclose_btn:!0}),t(".js-modal-success .js-modal-text").html(e),this.modal.modalCenter(),this.modal.fadeIn(300),i&&t(document).bind("click",".js-close",this.bindMethod(i))},openBackupCodesModal:function(){this.closeModal(),this.modal=new RSI.BackupCodes({content:this.renderTemplate("#tpl_backup_codes",{}),class_name:"modals flat",noclose_btn:!0}),this.modal.initBackupCodesModal(),this.modal.modalCenter(),this.modal.fadeIn(300)},openPasswordProtected:function(e){e=e||"<strong>WARNING !</strong> Text missing in openBackupCodesModal !",this.closeModal(),this.modal=new RSI.Lightbox({content:this.renderTemplate("#tpl_password_protected",{}),class_name:"modals flat",noclose_btn:!0}),t(".js-modal-success .js-modal-text").html(e),this.modal.modalCenter(),this.modal.fadeIn(300)},openTwoStepAuthentification:function(e){e=e||"<strong>WARNING !</strong> Text missing in openTwoStepAuthentification !",this.closeModal(),this.modal=new RSI.Lightbox({content:this.renderTemplate("#tpl_two_step_authentification",{}),class_name:"modals flat",noclose_btn:!0}),t(".js-modal-success .js-modal-text").html(e),this.modal.modalCenter(),this.modal.fadeIn(300)},openProgressModal:function(e){e=e||"<strong>WARNING !</strong> Text missing in openProgressModal !",this.closeModal(),this.modal=new RSI.Lightbox({content:this.renderTemplate("#tpl_progress",{}),class_name:"modals",noclose_btn:!0}),t(".js-modal-progress .js-modal-text").html(e),this.modal.modalCenter(),this.modal.fadeIn(300)},openConfirmModal:function(e,i,n){e=e||"<strong>WARNING !</strong> Text missing in openConfirmModal !",n=n||"",i=i||null,this.closeModal(),this.modal=new RSI.Lightbox({content:this.renderTemplate("#tpl_confirm",{}),class_name:"modals "+n,noclose_btn:!0}),t(".js-modal-confirm .js-modal-text").html(e),this.modal.modalCenter(),this.modal.fadeIn(300),i&&(t(document).one("click",".js-confirm",this.bindMethod(this.closeModal)),t(document).one("click",".js-confirm",this.bindMethod(i)))},openAlertModal:function(e,i){e=e||"<strong>WARNING !</strong> Text missing in openAlertModal !",i=i||null,this.closeModal(),this.modal=new RSI.Lightbox({content:this.renderTemplate("#tpl_alert",{}),class_name:"modals",noclose_btn:!0}),t(".js-modal-alert .js-modal-text").html(e),this.modal.modalCenter(),this.modal.fadeIn(300),i&&(t(document).on("click",".js-confirm",this.bindMethod(this.closeModal)),t(document).on("click",".js-confirm",this.bindMethod(i)))},setDataDefaultText:function(e){var i=e||"";t(i+" input[type=text],"+i+" input[type=password],"+i+" textarea").each((function(){var e=t(this).attr("data-default-text")?e:t(this).val();t(this).data("default-text",e)}))},onFieldFocus:function(e){var i=t(e.currentTarget);i.val();i.parent().find(".js-password-input").hide()},onFieldBlur:function(e){var i=t(e.currentTarget);""==i.val()&&i.parent().find(".js-password-input").show()},signout:function(t){t.preventDefault(),RSI.Api.Account.signout(this.bindMethod(this.onSignout,this))},onSignout:function(t){t.success&&(document.location.href="/")},initAccountRecovery:function(){t(document).on("submit","form[name=recover]",this.bindMethod(this.onAccountRecoverySubmit)),t(document).on("blur","form[name=recover] input[type=password]",this.bindMethod(this.checkRecoveryPassword)),t("form[name=recover]  input[name=password]").bind("keyup",this.bindMethod(this.onPasswordKeyUp)),t("form[name=recover]").on("click",".js-switch-mode",this.bindMethod(this.switchAuthMode))},onPasswordKeyUp:function(t){this.updatePasswordLevel()},updatePasswordLevel:function(){var e=t("form[name=recover] input[name=password]").val(),i=window.Common.getPasswordStrength(e);i=this.lvl=Math.floor(i/100*4),t("form[name=recover] .error-level-line.on").removeClass("on");for(var n=1;n<=i;n++)t("form[name=recover] .js-psw-lvl-"+n).addClass("on")},checkRecoveryPassword:function(e){var i=this.form=t("form[name=recover]"),n=window.Common.getFieldValue(i.find("input[name=password]"));if(n!=window.Common.getFieldValue(i.find("input[name=password_confirm]")))return t("form[name=recover] .error-level-line.on").removeClass("on"),!1;var o=window.Common.getPasswordStrength(n);if(o=this.lvl=Math.floor(o/100*4),this.updatePasswordLevel(),o<2){return this.showFormError(i,"Your password must be stronger. Add more unique characters varying with numbers and punctuation. RSI Level 2 compliance is necessary."),!1}i.find(".js-error-message").hide()},onAccountRecoverySubmit:function(e){e.preventDefault();var i,n=this.form=t(e.currentTarget),o=window.Common.getFieldValue(n.find("input[name=password]")),s=window.Common.getFieldValue(n.find("input[name=password_confirm]")),r=window.Common.getFieldValue(n.find("input[name=slug]")),a=window.Common.getFieldValue(n.find("input[name=code]")),c=window.Common.getFieldValue(n.find("input[name=auth_code].js-form-data")),l=window.Common.getFieldValue(n.find("input[name=device_type]")),d=window.Common.getFieldValue(n.find("input[name=device_name]")),h=window.Common.getFieldValue(n.find("input[name=duration]"));if(""==o||""==s)return i=RSI.translate("error_empty_field"),this.showFormError(n,i),!1;if(o!=s)return i=RSI.translate("error_field_must_match"),this.showFormError(n,i),!1;if(o.length<8)return i=RSI.translate("error_password_short"),this.showFormError(n,i),!1;if(this.lvl<2)return i="Your password must be stronger. Add more unique characters varying with numbers and punctuation. RSI Level 2 compliance is necessary.",this.showFormError(n,i),!1;var u={password:o,password_confirm:s,slug:r,code:a,auth_code:c,device_type:l,device_name:d,duration:h};this.form.find(".submit-wrapper").addClass("loading"),RSI.Api.Account.recoverPassword(this.bindMethod(this.recoverPasswordCallback,this),u)},recoverPasswordCallback:function(t){if(this.form.find(".submit-wrapper").removeClass("loading"),t.success)this.form.find(".js-error-message").hide(),this.form.find(".js-success-message").html("<strong>Success!</strong> Your new password has been saved.").fadeIn(300),setTimeout((function(){document.location.href="/"}),2e3);else{var e="";if("ErrValidationFailed"!=t.code)e=t.msg;else{var i=t.data&&t.data.properties?t.data.properties:t.data;for(var n in i)e+="<strong>"+n+"</strong> : "+i[n]+"<br />"}this.showFormError(this.form,e)}},switchAuthMode:function(e){e.preventDefault(),t(".js-codes-wrapper").toggleClass("backup"),t(".js-codes-wrapper").hasClass("backup")?(t(".js-code").removeClass("js-form-data"),t(".js-backup-code").addClass("js-form-data")):(t(".js-code").addClass("js-form-data"),t(".js-backup-code").removeClass("js-form-data")),this.validateForm()},showFormError:function(e,i){t(".js-success-message").hide(),e.find(".js-error-message").html(i).fadeIn(300)},getFieldValue:function(t){return t.val()},toObject:function(t){for(var e={},i=0;i<t.length;++i)e[i]=t[i];return e},setBodyState:function(e){"loading"==(e=e||null)?(t("body").addClass("loading"),window.isLoading=!0):(t("body").removeClass("loading"),window.isLoading=!1)},getNow:function(){if(Date.now)return Date.now();Date.now=function(){return+new Date}}})}(jQuery),function(t){RSI=window.RSI||{},RSI.Header=Turbulent.Object.extend({init:function(e){this._super(),this.header=t("#cross-brand-header"),this.brand_header=t("#brand-menu"),this.body=t("#bodyWrapper, body"),this.accountBackdrop=t(".js-toggle-account__backdrop"),this.windowScrollPos,this.scrollLocked,this.mobileSize=1024,this.bindMethods(e)},bindMethods:function(e){this.header.find(".js-toggle-mobile-menu").bind("click",this.bindMethod(this.onToggleMobileMenuClick,this)),this.header.find(".js-toggle-games").bind("click",this.bindMethod(this.onToggleGamesClick,this)),this.header.find(".js-toggle-account").bind("click",this.bindMethod(this.onToggleAccountClick,this)),this.header.find(".js-toggle-account__backdrop").bind("click",this.bindMethod(this.onToggleAccountClick,this)),this.header.find(".c-platform-bar__backdrop").bind("click",this.bindMethod(this.onToggleMobileMenuClick,this)),t(document).find(".js-open-brand-menu").bind("click",this.bindMethod(this.onBrandMenuOpenClick,this)),this.brand_header.find(".js-open-brand-submenu").bind("touchstart",this.bindMethod(this.onSubmenuMouseEnter,this)),this.brand_header.find(".js-open-brand-submenu").bind("mouseenter",this.bindMethod(this.onSubmenuMouseEnter,this)),this.brand_header.find(".js-open-brand-submenu").bind("mouseleave",this.bindMethod(this.onSubmenuMouseExit,this)),this.brand_header.find(".js-open-brand-submenu.has-submenu > a.c-brand-menu__link").bind("click",this.bindMethod(this.onSubmenuClick,this)),this.brand_header.find(".js-brand-submenu-close").bind("click",this.bindMethod(this.onSubmenuCloseClick,this)),this.brand_header.find(".c-brand-menu__backdrop").bind("click",this.bindMethod(this.onBrandMenuOpenClick,this)),t(window).bind("scroll",this.bindMethod(this.onScroll,this))},onToggleMobileMenuClick:function(t){t.preventDefault(),this.scrollLocked||(this.windowScrollPos=window.scrollY),this.header.hasClass("is-mobile-menu-open")?(this.closeMenu("is-mobile-menu-open is-search-open is-account-open"),this.body.removeClass("disable-scroll"),window.scrollTo(0,this.windowScrollPos),this.scrollLocked=!1):(this.body.addClass("disable-scroll"),this.scrollLocked=!0,this.brand_header.removeClass("is-open"),this.openMenu("is-mobile-menu-open"))},onToggleGamesClick:function(t){t.preventDefault(),this.header.hasClass("is-games-open")?this.closeMenu("is-games-open"):this.openMenu("is-games-open")},toggleBodyScroll:function(t){var e=document.querySelector("body");e.classList.contains("scroll-locked")?e.classList.remove("scroll-locked"):e.classList.add("scroll-locked")},onToggleAccountClick:function(t){t.preventDefault(),this.toggleBodyScroll(),document.accountSidebar&&document.accountSidebar.updateSidebarPosition(),this.header.hasClass("is-account-open")?(this.closeMenu("is-account-open is-full-screen"),window.BottomNotifBar.toggle(!0),this.accountBackdrop.addClass("invisible")):(this.openMenu("is-account-open"),window.BottomNotifBar.toggle(!1),this.accountBackdrop.removeClass("invisible"))},openMenu:function(t){this.header.removeClass("is-search-open is-games-open is-account-open"),this.accountBackdrop.addClass("invisible"),this.header.addClass("is-menu-open "+t)},closeMenu:function(t){this.header.removeClass("is-menu-open "+t)},onBrandMenuOpenClick:function(e){this.scrollLocked?this.scrollLocked=!1:(this.windowScrollPos=window.scrollY,this.scrollLocked=!0),e.preventDefault(),this.header.removeClass("is-mobile-menu-open"),t("body").toggleClass("brand-menu--is-open"),t("body").addClass("brand-menu--is-animate"),this.brand_header.toggleClass("is-open"),this.brand_header.hasClass("is-open")||this.brand_header.find(".js-open-brand-submenu").each(this.bindMethod((function(e,i){this.closeSubmenu(t(i))})))},onSubmenuMouseEnter:function(e){if(t(window).width()<this.mobileSize)return this;t(e.currentTarget).closest(".c-brand-menu__item").hasClass("is-open")||e.preventDefault(),"touchstart"===e.type?(t(".c-brand-menu__item.has-submenu").each(this.bindMethod((function(e,i){this.closeSubmenu(t(i))}),this)),this.openSubmenu(t(e.currentTarget).closest(".c-brand-menu__item"))):this.openSubmenu(t(e.currentTarget).closest(".c-brand-menu__item"))},onSubmenuMouseExit:function(e){if(t(window).width()<this.mobileSize)return this;e.preventDefault(),this.closeSubmenu(t(e.currentTarget).closest(".c-brand-menu__item"))},onSubmenuClick:function(e){t(window).width()<this.mobileSize&&(e.preventDefault(),this.openSubmenu(t(e.currentTarget).closest(".c-brand-menu__item")))},onSubmenuCloseClick:function(e){e.preventDefault(),this.closeSubmenu(t(e.currentTarget).closest(".c-brand-menu__item")),e.stopPropagation()},openSubmenu:function(e){e.addClass("is-open"),t(".c-brand-menu__items").addClass("is-hovered")},closeSubmenu:function(e){e.removeClass("is-open"),t(".c-brand-menu__items").removeClass("is-hovered")},onScroll:function(){var e=t(".l-notification-bar").height()>0;t(".c-brand-menu").length>0&&(t(".c-brand-menu").hasClass("is-sticky")||(this.menuY=e?t(".c-brand-menu").position().top+t(".l-notification-bar").height():t(".c-brand-menu").position().top),this.menuY>=window.pageYOffset?t(".c-brand-menu").removeClass("is-sticky"):(e&&t(".c-brand-menu").position().top+t(".l-notification-bar").height()<window.pageYOffset||!e&&t(".c-brand-menu").position().top<window.pageYOffset)&&t(".c-brand-menu").addClass("is-sticky"))}})}(jQuery),function(t){RSI=window.RSI||{},RSI.Newsletter=RSI.Newsletter||{},RSI.Newsletter.Archive=Backbone.View.extend({el:"#newsletter",events:{"click .js-glow-load-more-control":"toogleAutoLoadArchives"},initialize:function(t){_.defer(function(){this.archives={isLoading:!1,currentPage:1},this.loadOnScroll}.bind(this)),this.detectUpdateOnScrollFct=_.debounce(_.bind(this.detectUpdateOnScroll,this),50)},toogleAutoLoadArchives:function(e){e.preventDefault(),this.$el.find(".js-glow-load-more-control.active").removeClass("active"),t(e.currentTarget).addClass("active").parent().removeClass("on off").addClass(t(e.currentTarget).data("action")),this.autoloadArchives="on"==t(e.currentTarget).data("action"),this.autoloadArchives?(this.prepareLoadMore(),t(window).on("scroll",this.detectUpdateOnScrollFct),t(window).on("DOMMouseScroll mousewheel wheel",this.detectUpdateOnScrollFct)):(this.loadingMoreAnimation&&(clearTimeout(this.loadingMoreAnimation),this.loadingMoreAnimation=null),this.nextLoadMore&&(clearTimeout(this.nextLoadMore),this.nextLoadMore=null),this.$el.find(".js-glow-load-more-btn").removeClass("loading"),this.archives.isLoading=!1,t(window).off("scroll",this.detectUpdateOnScrollFct),t(window).off("DOMMouseScroll mousewheel wheel",this.detectUpdateOnScrollFct))},detectUpdateOnScroll:function(e){t(window).scrollTop()+t(window).height()>this.$el.find("#contentbody").offset().top+this.$el.find("#contentbody").height()&&this.prepareLoadMore()},prepareLoadMore:function(){this.archives.isLoading||(this.archives.isLoading=!0,this.loadingMoreAnimation=_.delay(function(){this.$el.find(".js-glow-load-more-btn").addClass("loading")}.bind(this),500),this.nextLoadMore=_.delay(function(){this.loadMoreArchives()}.bind(this),2e3))},loadMoreArchives:function(){this.loadingMoreAnimation=null,this.nextLoadMore=null,this.$el.find(".js-load-more-comm-link.active").addClass("active");var t={pagesize:8,offset:5,page:this.archives.currentPage++};RSI.Api.Newsletter.index(_.bind(this.renderMoreArchives,this),t)},renderMoreArchives:function(e){if(this.archives.isLoading=!1,this.$el.find(".js-glow-load-more-btn.loading").removeClass("loading"),e.success)if(""!=e.data.html)if(this.autoloadArchives){this.$el.find(".flipboard-boxes.archive").append(e.data.html);var i=this,n=50;this.$el.find(".flipboard-boxes.archive").find(".js-lock").each((function(e){var o=t(this);setTimeout((function(){i.unlock(o)}),n),n+=50})),n=50}else this.archives.currentPage--;else this.$el.find(".js-glow-load-more-btn").addClass("finish");else this.$el.find(".archive js-flipboard-strip-slider-inner").append(e.msg)},unlock:function(t){t.css("opacity",1).removeClass("js-lock")}})}(jQuery),function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{};RSI.BottomNotifBar=Turbulent.Object.extend({init:function(t){this._super(t),this.toggledOn=!0,this.checkCookies(),this.cleanup()},cleanup:function(){null!=this.container&&0===this.container.children().length&&this.container.remove()},checkCookies:function(){this.getAnnouncementIsViewed()||setTimeout(function(){this.container=t(".js-notification-bar"),this.container.find(".js-notification-bar-box--announcement").removeClass("is-hidden"),this.attachClickHandler(this.container,"announcement")}.bind(this),500)},attachClickHandler:function(e,i){t(document).on("click",".js-notification-bar .js-bottom-notif-btn-"+i,function(e){e.preventDefault();var n=t(".js-notification-bar .js-bottom-notif-msg-"+i);this.setAnnouncementIsViewed(!0),this.fadeMessage(n)}.bind(this))},fadeMessage:function(t){t.fadeOut(350,function(){t.remove(),this.cleanup()}.bind(this))},toggle:function(t){null==t&&(t=!this.toggledOn),this.toggledOn=!!t},getAnnouncementIsViewed:function(){return!!sessionStorage.getItem("announcementViewed")},setAnnouncementIsViewed:function(t){if(t)return sessionStorage.setItem("announcementViewed",t)}})}(jQuery),function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.NumberCounter=Turbulent.Object.extend({init:function(t){this.holder=t.holder,this.digits=new Array,this.setupCarousel(),this._super(t),this.on_decrement_zero=t.on_decrement_zero},setupCarousel:function(){var e=this;t(this.holder).find(".carousel").each((function(i,n){e.digits[i]=new Turbulent.Carousel({vertical:!0,circular:!0,moveBy:9,speed:250,holder:t(this)})}))},createNumberCounter:function(e){var i=t("#tpl_number_counter_digits").html(),n=new jSmart(i);e=(e+="").split(""),this.holder.find(".digits").html(n.fetch({val_arr:e,length:e.length})),this.holder.removeClass("show-loading"),this.setupCarousel()},increaseTo:function(e,i){e=e.toString(),0==this.digits.length&&this.createNumberCounter(e);var n=e.split("").reverse(),o=this.digits.slice();t(o.reverse()).each((function(t,e){e.moveBy=Math.abs((10+parseInt(n[t]-e.holder.children(".on").html()))%10),e.speed=i||250*e.moveBy,e.speed>4200&&(e.speed=4200),e.holder.stop(!0,!0),e.moveToNext()}))},decreaseTo:function(e,i){e=e.toString(),0==this.digits.length&&this.increaseTo(e,i);var n=e.split("").reverse(),o=this.digits.slice();t(o.reverse()).each((function(t,e){e.moveBy=Math.abs((10-parseInt(n[t]-e.holder.children(".on").html()))%10),e.speed=i||250*e.moveBy,e.speed>4200&&(e.speed=4200),e.holder.stop(!0,!0),e.moveBy>0&&e.moveToPrev()}))},decrement:function(){var t=this.getCurrentValue();0==t&&this.on_decrement_zero?this.on_decrement_zero():this.decreaseTo(this.pad(t-1,this.digits.length))},resetTo:function(e){var i=(e=e.toString()).split("").reverse(),n=this.digits.slice();t(n.reverse()).each((function(t,e){e.moveBy=Math.abs((10-parseInt(i[t]-e.holder.children(".on").html()))%10);var n=e.getHolderChildren("[rel="+i[t]+"]:not(.copy)").index();e.getHolderChildren().eq(n).addClass("on").siblings(".on").removeClass("on"),e.index=n;var o=n*e.displayItemsWidth*-1;e.holder.css("top",o+"px")}))},getCurrentValue:function(){var e="";return t(this.digits).each((function(t,i){e+=parseInt(i.holder.children(".on").html())})),parseInt(e)},pad:function(t,e,i){return i=i||"0",(t+="").length>=e?t:new Array(e-t.length+1).join(i)+t}})}(jQuery),jQuery,RSI=window.RSI||{},RSI.Outbound=RSI.Lightbox.extend({isLoading:!1,init:function(t){this._super(t),this.url=t.url,this.holder.find("input[type=submit]").bind("click",this.bindMethod(this.onOutboundSubmit,this)),this.holder.find(".js-error-message").fadeIn(300),this.holder.find("span.url").text(this.url)},showOK:function(t){this.ok=!0,this.holder.find(".js-success-message").fadeIn(400,t)},showWARN:function(t){this.ok=!1,this.holder.find(".js-error-message").fadeIn(400,t)},onOutboundSubmit:function(t){t.preventDefault(),this.holder.find(".js-error-message").fadeOut(100,this.bindMethod(this.showOK,this)),this.holder.find(".submit-wrapper").addClass("loading");var e=this;return setTimeout((function(t){e.fadeOut(),document.location.href=e.url}),750),!1}});i(118);!function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.Popover=Turbulent.Popover.extend({hideLoader:function(){this.holder.find(".traj-loader").hide()},showLoader:function(){this.holder.find(".traj-loader").show()},initScrollbar:function(){this.holder.find(".scrollable").each((function(){t(this).data("scrollbar")||(t(this).height(t(this).height()),t(this).data("scrollbar",new Turbulent.Scrollbar({holder:t(this)})))}))},updateScrollBar:function(){var t=this.holder.find(".scrollable").first().data("scrollbar");t?t.update():this.initScrollbar()}})}(jQuery),function(t){RSI=window.RSI||{},RSI.Press=RSI.Press||{},RSI.Press.Archive=Backbone.View.extend({el:"#press",events:{"click .js-glow-load-more-control":"toogleAutoLoadArchives"},initialize:function(t){_.defer(function(){this.archives={isLoading:!1,currentPage:1},this.loadOnScroll}.bind(this)),this.detectUpdateOnScrollFct=_.debounce(_.bind(this.detectUpdateOnScroll,this),50)},toogleAutoLoadArchives:function(e){e.preventDefault(),this.$el.find(".js-glow-load-more-control.active").removeClass("active"),t(e.currentTarget).addClass("active").parent().removeClass("on off").addClass(t(e.currentTarget).data("action")),this.autoloadArchives="on"==t(e.currentTarget).data("action"),this.autoloadArchives?(this.prepareLoadMore(),t(window).on("scroll",this.detectUpdateOnScrollFct),t(window).on("DOMMouseScroll mousewheel wheel",this.detectUpdateOnScrollFct)):(this.loadingMoreAnimation&&(clearTimeout(this.loadingMoreAnimation),this.loadingMoreAnimation=null),this.nextLoadMore&&(clearTimeout(this.nextLoadMore),this.nextLoadMore=null),this.$el.find(".js-glow-load-more-btn").removeClass("loading"),this.archives.isLoading=!1,t(window).off("scroll",this.detectUpdateOnScrollFct),t(window).off("DOMMouseScroll mousewheel wheel",this.detectUpdateOnScrollFct))},detectUpdateOnScroll:function(e){t(window).scrollTop()+t(window).height()>this.$el.find(".js-flipboard-strip-slider-inner").offset().top+this.$el.find(".js-flipboard-strip-slider-inner").height()&&this.prepareLoadMore()},prepareLoadMore:function(){this.archives.isLoading||(this.archives.isLoading=!0,this.loadingMoreAnimation=_.delay(function(){this.$el.find(".js-glow-load-more-btn").addClass("loading")}.bind(this),500),this.nextLoadMore=_.delay(function(){this.loadMoreArchives()}.bind(this),2e3))},loadMoreArchives:function(){this.loadingMoreAnimation=null,this.nextLoadMore=null,this.$el.find(".js-load-more-comm-link.active").addClass("active");var t={pagesize:8,page:++this.archives.currentPage};RSI.Api.Press.getCoverage(_.bind(this.renderMoreArchives,this),t)},renderMoreArchives:function(e){if(this.archives.isLoading=!1,this.$el.find(".js-glow-load-more-btn.loading").removeClass("loading"),e.success)if(""!=e.data.html)if(this.autoloadArchives){this.$el.find(".js-flipboard-strip-slider-inner").append(e.data.html);var i=this,n=50;this.$el.find(".js-flipboard-strip-slider-inner").find(".js-lock").each((function(e){var o=t(this);setTimeout((function(){i.unlock(o)}),n),n+=50})),n=50}else this.archives.currentPage--;else this.$el.find(".js-glow-load-more-btn").addClass("finish");else this.$el.find(".js-flipboard-strip-slider-inner").append(e.msg)},unlock:function(t){t.css("opacity",1).removeClass("js-lock")}}),RSI.Press.Main=Turbulent.Object.extend({init:function(t){this._super(),this.mainSlider=new RSI.Press.FlipboardStripSlider}}),RSI.Press.FlipboardStripSlider=Backbone.View.extend({el:"#media-coverage-slider",events:{"click .js-flipboard-slide-control":"renderStripSlide"},initialize:function(){t(window).on("resize",_.debounce(_.bind(this.resizeStripWrapper,this),20)),this.nbItem=this.$el.find(".js-flipboard-strip-slider-inner").children().length,this.slidePos=0,this.resizeStripWrapper()},resizeStripWrapper:function(){this.boxWidth=t(".js-page").width(),this.pageNumber=t(".js-page").length,this.innerSlideWidth=Math.floor(this.boxWidth*this.pageNumber),this.$(".js-flipboard-strip-slider-inner").css({width:this.innerSlideWidth,left:-this.$el.find(".js-page").width()*this.slidePos})},renderStripSlide:function(e){e.preventDefault();var i=this.slidePos;"left"==t(e.currentTarget).data("slide-way")&&this.slidePos>0?i--:"right"==t(e.currentTarget).data("slide-way")&&this.slidePos<this.nbItem-1&&i++,i!=this.slidePos&&(this.slidePos=i,this.$el.find(".js-flipboard-strip-slider-inner").css({left:-this.$el.find(".js-page").width()*this.slidePos}))}})}(jQuery),function(t){RSI=window.RSI||{},RSI.Recovery=Turbulent.Object.extend({isLoading:!1,init:function(e){this._super(e),this.holder=t("#recovery"),this.formProcessor=new Turbulent.Form({form_selector:this.holder.find("form").first()}),this.holder.find("input[type=text]").bind("focus",this.bindMethod(this.onFieldFocus,this)),this.holder.find("input[type=text]").bind("blur",this.bindMethod(this.onFieldBlur,this)),this.holder.find("input[type=submit]").bind("click",this.bindMethod(this.onSubmit,this))},onSubmit:function(e){if(e.stopPropagation(),this.isLoading)return!1;var i=this.email=t.trim(this.getFieldValue(this.holder.find("input[name=email]")));if(!window.Common.validateEmail(i)){var n=RSI.translate("error_valid_email");return t("#recovery .js-error-message").html(n),t("#recovery .js-error-message").fadeIn(300),t("body").hasClass("is_mobile")||window.Main.modal.resizeCurrent(),!1}this.isLoading=!0,this.holder.find(".submit-wrapper").addClass("loading");var o={email:i};return RSI.Api.Account.recover(this.bindMethod(this.onRecovery,this),o),!1},onRecovery:function(e){if(this.holder.find(".submit-wrapper").removeClass("loading"),e.success){var i=RSI.translate("modal_recovery_success",{email:this.email});window.Main.openSuccessModal(i),t("#recovery .js-error-message").hide()}else t("#recovery .js-error-message").html(e.msg),t("#recovery .js-error-message").fadeIn(300),this.isLoading=!1},redirect:function(){document.location.href="/"},onFieldFocus:function(e){var i=t(e.currentTarget),n=(i.val(),t("."+i.attr("data-line"))),o=t("."+i.attr("data-msg"));n.addClass("selected"),o.addClass("active")},onFieldBlur:function(e){var i=t(e.currentTarget),n=(i.val(),t("."+i.attr("data-line"))),o=t("."+i.attr("data-msg"));n.removeClass("selected"),o.removeClass("active")},getFieldValue:function(t){return t.val()}})}(jQuery),function(t){RSI=window.RSI||{},RSI.Referral=Turbulent.Object.extend({isLoading:!1,init:function(e){this._super(e),window.location.href.indexOf("#ladder")>0&&t("html, body").animate({scrollTop:t("#ranking-ladder").offset().top},1e3),this.bindMethods(e)},bindMethods:function(e){"logged-in"==e.state&&t("input[name='code']").bind("mouseup",(function(){t(this).select()}))}})}(jQuery),function(t){Turbulent=window.Turbulent||{},Turbulent.SelectList=Turbulent.Object.extend({init:function(t){this._super(),this.initMembers(t),this.bindTrigger(),this.selectList.find("li.selected").length?this.selectOption(this.selectList.find("li.selected")):this.firstDefault&&this.selectOption(this.selectList.find("li:first"))},initMembers:function(e){var i;this.selectList=e.selectList,this.firstDefault=!!e.firstDefault&&e.firstDefault,this.searchString="",this.selectList.find("li").each((function(){t(this).hasClass("selected")&&(i=t(this).attr("rel"))})),this.selectList.find("input").val(i)},bindTrigger:function(){this.selectList.unbind("click",this.bindMethod(this.onSelectListClick)).bind("click",this.bindMethod(this.onSelectListClick)),this.selectList.unbind("focus",this.bindMethod(this.onSelectListFocus)).bind("focus",this.bindMethod(this.onSelectListFocus)),this.selectList[0].addEventListener?(this.selectList[0].addEventListener("DOMMouseScroll",this.bindMethod(this.onMouseWheel),!1),this.selectList[0].addEventListener("mousewheel",this.bindMethod(this.onMouseWheel),!1)):this.selectList[0].onmousewheel=this.bindMethod(this.onMouseWheel)},onMouseWheel:function(t){t&&t.preventDefault();var e=t||window.event,i=e.wheelDelta?e.wheelDelta/120:-e.detail/3;i*=-1,!this.open&&this.selectList.find("li.selected").index()+i<this.selectList.find("li").length&&this.selectList.find("li.selected").index()+i>=0&&(this.selectList.find("li").eq(this.selectList.find("li.selected").index()+i).addClass("selected").siblings(".selected").removeClass("selected"),this.selectOption(this.selectList.find("li").eq(this.selectList.find("li.selected").index()),e))},onSelectListFocus:function(t){t.preventDefault(),this.preventFocus||this.openList()},onSelectListBlur:function(t){this.close()},onSelectListClick:function(t){t.preventDefault(),this.openList()},onOptionSelect:function(e){e.preventDefault(),e.stopPropagation(),this.selectOption(t(e.currentTarget),e),t(e.currentTarget).closest("form").change(),this.close(),this.afterOptionSelect&&this.afterOptionSelect(this.selectList.find("input").val())},addOnOptionSelect:function(t){this.afterOptionSelect=t},selectOption:function(t,e){this.selectList.children("span").html(t.html()),this.selectList.find("input").val(t.attr("rel")).change(),t.addClass("selected").siblings(".selected").removeClass("selected"),this.preventFocus=!0;var i=this;this.preventFocusTimer=window.setTimeout((function(){i.preventFocus=!1}),500)},openList:function(){var e=this;this.open||(this.selectList.unbind("focus",this.bindMethod(this.onSelectListFocus)),this.open=!0,window.openedSelectlist=this,this.selectList.find(".body").slideDown(250,(function(){e.selectList.find(".scrollable").length>0&&e.selectList.find(".scrollable").data("scrollbar").update()})),this.selectList.unbind("focus",this.bindMethod(this.onSelectListFocus)),this.selectList.find("li").bind("click",this.bindMethod(this.onOptionSelect)),this.selectList.bind("blur",this.bindMethod(this.onSelectListBlur)),this.dontclose=!0,t(document).bind("click",this.bindMethod(this.close)),t(document).bind("keydown",this.bindMethod(this.onListKeydown)),t(document).bind("keypress",this.bindMethod(this.onListKeypress)),this.selectList.find("li").bind("mouseover",this.bindMethod(this.onItemMouseover)))},onItemMouseover:function(e){this.selectList.find("li.hover").removeClass("hover"),t(e.currentTarget).addClass("hover")},onListKeydown:function(t){var e;40==t.keyCode&&(t.preventDefault(),t.stopPropagation(),e=this.selectList.find("li.hover").index()+1||0,this.selectList.find("li.hover").removeClass("hover"),this.selectList.find("li:eq("+e+")").addClass("hover"),this.selectList.find(".scrollable").data("scrollbar")&&this.selectList.find(".scrollable").data("scrollbar").scrollTo(this.selectList.find("li.hover"))),38==t.keyCode&&(t.preventDefault(),t.stopPropagation(),e=this.selectList.find("li.hover").index()||this.selectList.find("li:last").index("li")+1,e--,this.selectList.find("li.hover").removeClass("hover"),this.selectList.find("li:eq("+e+")").addClass("hover"),this.selectList.find(".scrollable").data("scrollbar")&&this.selectList.find(".scrollable").data("scrollbar").scrollTo(this.selectList.find("li.hover"))),13==t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.selectOption(this.selectList.find("li.hover").first()),this.close()),9==t.keyCode&&(this.selectOption(this.selectList.find("li.hover").first()),this.close())},onListKeypress:function(e){if(e.charCode>=97&&e.charCode<=122||e.charCode>=48&&e.charCode<=57){this.searchString+=String.fromCharCode(e.charCode),window.clearTimeout(this.resetSearchTimeout),this.resetSearchTimeout=window.setTimeout(this.bindMethod(this.resetSearchString),1500);var i=this;t.each(this.selectList.find("li"),(function(e,n){if(i.trim(t(n).html()).substring(0,i.searchString.length).toLowerCase()==i.searchString)return i.selectList.find("li.hover").removeClass("hover"),t(n).addClass("hover"),i.selectList.find(".scrollable").data("scrollbar")&&i.selectList.find(".scrollable").data("scrollbar").scrollTo(t(n)),!1}))}},resetSearchString:function(){this.searchString=""},close:function(e){if(!e||!this.dontclose||t(e.currentTarget).closest(".track").length>0){t(document).unbind("click",this.bindMethod(this.close)),this.selectList.find("li").unbind("click",this.bindMethod(this.onOptionSelect)),t(document).unbind("keydown",this.bindMethod(this.onListKeydown)),t(document).unbind("keypress",this.bindMethod(this.onListKeypress)),this.selectList.unbind("blur",this.bindMethod(this.onSelectListBlur));var i=this;this.selectList.find(".body").slideUp(250,(function(){i.selectList.blur(),i.selectList.bind("focus",i.bindMethod(i.onSelectListFocus))})),this.open=!1}this.dontclose=!1},trim:function(t){return t.replace(/^\s+|\s+$/g,"")}})}(jQuery);i(119),i(120);jQuery,Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.Components=RSI.Components||{},RSI.Components.SVG=Backbone.View.extend({events:{},targets:[],html:null,initialize:function(t){return null!=t.class&&""!=t.class&&(this.targets[0]=document.createElement("div"),this.targets[0].classList.add(t.class),document.getElementsByTagName("body")[0].appendChild(this.targets[0]),this.doInliner(),this.html=this.getHtml(),this.targets[0].remove()),this.targets=Array.from(document.querySelectorAll(t.target)),this.doInliner()},getHtml:function(){return this.html?this.html:this.targets[0].firstElementChild?this.targets[0].firstElementChild.outerHTML:"No Background Image Set"},doInliner:function(){var t=0;for(t=0;t<this.targets.length;++t){var e=window.getComputedStyle(this.targets[t]).backgroundImage;"none"!=e&&void 0!==e&&((e=e.trim()).indexOf("http")<10&&e.indexOf("http")>0?this.targets[t]=this.insertExternalBackgroundImageString(this.targets[t],e):this.insertInlineBackgroundImage(this.targets[t],e))}return this},setElementSvg:function(t,e){e=(e=unescape(e)).replace(/\\'/g,'"'),t.innerHTML=e,this.uncloak(t)},insertExternalBackgroundImageString:function(t,e){e=e.replace(/^url(.*?)[^a-zA-Z0-9]*|[^a-zA-Z0-9]*$/g,"");var i=this,n=new XMLHttpRequest;n.addEventListener("load",(function(e){200!=n.status||i.setElementSvg(t,n.response)})),n.open("GET",e),n.send()},insertInlineBackgroundImage:function(t,e){var i=e.substring(0,e.length-2).replace(/url(.*?)\,/g,"");this.setElementSvg(t,i)},uncloak:function(t){t.style.backgroundImage="none",t.style.visibility="visible"}}),function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.TimeCountdown=Turbulent.Object.extend({init:function(t){this.initial_time=new Date,this._super(t),this.end_at=t.end_at?t.end_at:0,this.on_time_at=t.on_time_at?t.on_time_at:[],t.days_selector&&(this.days_countdown=new RSI.NumberCounter({holder:t.days_selector})),t.hours_selector&&(this.hours_countdown=new RSI.NumberCounter({holder:t.hours_selector,on_decrement_zero:this.bindMethod(this.onHoursLeaveZero)})),t.minutes_selector&&(this.minutes_countdown=new RSI.NumberCounter({holder:t.minutes_selector,on_decrement_zero:this.bindMethod(this.onMinutesLeaveZero)})),this.seconds_countdown=new RSI.NumberCounter({holder:t.seconds_selector,on_decrement_zero:this.bindMethod(this.onSecondsLeaveZero)}),this.seconds=this.total_seconds=this.getSeconds(),this.start(),t.on_countdown_end&&(this.on_countdown_end=t.on_countdown_end)},seconds_decrement:function(){this.seconds-1!=Math.round(this.getSecondsRemaining())?this.setTime({seconds:this.getSecondsRemaining()}):(this.seconds--,this.seconds_countdown.decrement());var e=new Date,i=1e3*(Math.round((e.getTime()-this.initial_time.getTime())/1e3)+1)-(e.getTime()-this.initial_time.getTime()),n=this;t.each(this.on_time_at,(function(t,e){n.seconds==e.time&&e.action()})),this.seconds<1?this.on_countdown_zero():this.timer=setTimeout(this.bindMethod(this.seconds_decrement),i)},stop:function(){clearTimeout(this.timer)},start:function(){this.timer=setTimeout(this.bindMethod(this.seconds_decrement),1e3)},setTime:function(t){var e=t.seconds;this.initial_time=new Date,t.minutes&&(e+=60*t.minutes),t.hours&&(e+=3600*t.hours),t.days&&(e+=86400*t.days),this.total_seconds=e,this.seconds=e;var i=parseInt(e/86400);e-=86400*i;var n=parseInt(e/3600);e-=3600*n;var o=parseInt(e/60);e=parseInt(e-60*o),this.days_countdown&&this.days_countdown.resetTo(this.pad(i,2)),this.hours_countdown&&this.hours_countdown.resetTo(this.pad(n,1)),this.minutes_countdown&&this.minutes_countdown.resetTo(this.pad(o,2)),this.seconds_countdown.resetTo(this.pad(e,2))},getSeconds:function(){var t=parseInt(this.seconds_countdown.getCurrentValue());return this.minutes_countdown&&!isNaN(this.minutes_countdown.getCurrentValue())&&(t+=parseInt(60*this.minutes_countdown.getCurrentValue())),this.hours_countdown&&!isNaN(this.hours_countdown.getCurrentValue())&&(t+=parseInt(3600*this.hours_countdown.getCurrentValue())),this.days_countdown&&!isNaN(this.days_countdown.getCurrentValue())&&(t+=parseInt(86400*this.days_countdown.getCurrentValue())),t},getSecondsRemaining:function(){var t=new Date;return(this.initial_time.getTime()+1e3*this.total_seconds-t.getTime())/1e3},onHoursLeaveZero:function(){this.days_countdown.decrement(),this.hours_countdown.resetTo("24")},onMinutesLeaveZero:function(){this.hours_countdown.decrement(),this.minutes_countdown.resetTo("59")},onSecondsLeaveZero:function(){this.minutes_countdown.decrement(),this.seconds_countdown.resetTo("59")},on_countdown_zero:function(){clearTimeout(this.timer)},pad:function(t,e,i){return i=i||"0",(t+="").length>=e?t:new Array(e-t.length+1).join(i)+t}})}(jQuery);i(126),i(127),i(128);jQuery,Turbulent=window.Turbulent||{},RSI=window.RSI||{},RSI.Components=RSI.Components||{},RSI.Components.ToggleOpenRelated=Backbone.View.extend({events:{},target:null,initialize:function(t){var e=this;this.targets=document.querySelectorAll(t.target),Array.prototype.forEach.call(this.targets,(function(t,i){var n=document.querySelectorAll(t.getAttribute("href"));null!=n&&null!=n[0]||console.log("Unable to find the element "+t.getAttribute("href")),t.onclick=function(t){t.preventDefault(),e.toggleClass(this,"is-open"),e.toggleClass(n[0],"is-open")}}))},toggleClass:function(t,e){if(t.classList)t.classList.toggle(e);else{console.log(t);var i=t.className.split(" "),n=i.indexOf(e);n>=0?i.splice(n,1):i.push(e),t.className=i.join(" ")}}});i(129),i(130),i(132);function o(){this._textNodes=[]}o.prototype._findTextNodes=function(t){var e,i,n;if(1===t.nodeType){if("script"!==(n=t.nodeName.toLowerCase())&&"style"!==n)for(e=0,i=t.childNodes.length;e<i;e++)this._findTextNodes(t.childNodes[e])}else 3===t.nodeType&&this._textNodes.push(t)},o.prototype._replaceWithinNode=function(t,e,i){var n,o,s,r=new RegExp(e,"i"),a=/[a-z]/,c=[];if(-1!==(n=(o=t.data).search(r))){for(s=0;s<Math.min(e.length,i.length);s++)a.test(o[n+s])?c.push(i[s]):c.push(i[s].toUpperCase());return t.replaceData(n,e.length,c.join("")+i.slice(e.length)),this._replaceWithinNode(t,e,i)}},o.prototype.replace=function(t,e,i){this._findTextNodes(t);for(var n=0;n<this._textNodes.length;n++)this._replaceWithinNode(this._textNodes[n],e.toLowerCase(),i.toLowerCase())};i(134);!function(t){Turbulent=window.Turbulent||{},RSI=window.RSI||{};var e={wsc:"wsc_hide",viewCount:"wsc_view_count"};RSI.WscOverlay=Turbulent.Object.extend({init:function(t){if(this._super(t),this.checkCookies(),this.animate(),document.getElementsByClassName("matrix-overlay__left").length>0)(function(t){var e,i=document.createElement("style");document.head.appendChild(i),e=i.sheet;for(var n=0,o=t.length;n<o;n++){var s=1,r=t[n],a=t[n][0],c="";"[object Array]"===Object.prototype.toString.call(r[1][0])&&(r=r[1],s=0);for(var l=r.length;s<l;s++){var d=r[s];c+=d[0]+":"+d[1]+(d[2]?" !important":"")+";\n"}e.insertRule(a+"{"+c+"}",e.cssRules.length)}})([["#matrix-overlay .matrix-overlay__left::before",["background-image","url("+document.getElementsByClassName("matrix-overlay__left")[0].getAttribute("data-m1")+")"]],["#matrix-overlay .matrix-overlay__center::before",["background-image","url("+document.getElementsByClassName("matrix-overlay__center")[0].getAttribute("data-m1")+")"]],["#matrix-overlay .matrix-overlay__right::before",["background-image","url("+document.getElementsByClassName("matrix-overlay__right")[0].getAttribute("data-m1")+")"]],["@media only screen and (max-width: 1260px) {#matrix-overlay .matrix-overlay__left::before",["background-image","url("+document.getElementsByClassName("matrix-overlay__left")[0].getAttribute("data-m2")+")"+"}"]],["@media only screen and (max-width: 1260px) {#matrix-overlay .matrix-overlay__center::before",["background-image","url("+document.getElementsByClassName("matrix-overlay__center")[0].getAttribute("data-m2")+")"+"}"]],["@media only screen and (max-width: 1260px) {#matrix-overlay .matrix-overlay__right::before",["background-image","url("+document.getElementsByClassName("matrix-overlay__right")[0].getAttribute("data-m2")+")"+"}"]]])},animate:function(){var e=this;function i(){t(".svg-clip").each((function(){var e=t(this).parent(),i=t(e).outerWidth(),n=t(e).outerHeight(),o=i-50,s=n-50,r=i-25,a=n-25,c=t(this).find(".bottom-right-corner").length;t(this)[0].setAttribute("viewBox","0 0 "+i+" "+n),t(".top-box, .bottom-box",this).attr("width",o),t(".top-box, .bottom-box",this).attr("height",s),c?t(".bottom-right-corner, .bottom-right-corner-mobile",this).attr({transform:"translate("+r+".000000, "+a+".000000) rotate(-180.000000) translate(-125.000000, -75.000000)"}):t(".bottom-box",this).attr("width",i)})),t(".svg-clip-all").each((function(){var e=t(this).parent(),i=t(e).outerWidth()||100,n=t(e).outerHeight()||100,o=t(this).find(".top-right-corner").length,s=t(this).find(".top-left-corner").length,r=t(this).find(".bottom-left-corner").length,a=i-50*(s+o),c=i-50*(t(this).find(".bottom-right-corner").length+r),l=i-150,d=n-100;t(this)[0].setAttribute("viewBox","0 0 "+i+" "+n),t(".top-box",this).attr("width",a),t(".bottom-box",this).attr("width",c),t(".middle-box",this).attr("width",i),t(".middle-box",this).attr("height",n-100),r&&(t(".bottom-box",this).attr("x",50),t(".bottom-left-corner, .bottom-left-corner-mobile",this).attr({transform:"translate(0.000000, "+d+".000000) rotate(-90 25 75)"})),o&&t(".top-right-corner, .top-right-corner-mobile",this).attr({transform:"translate("+l+".000000, 0.000000) rotate(90 125 25)"})}))}function n(){t("#matrix-overlay").css({transition:"all 500ms cubic-bezier(0.250, 0.460, 0.450, 0.940)",opacity:"0"}),t("body").removeClass("disable-scroll"),setTimeout((function(){t("#matrix-overlay").removeClass("matrix-overlay--visible")}),500),e.setCookie()}window.setMask=i,i(),t(window).on("resize",_.debounce((function(){i()}),100)),t("#overlay_close").on("click",(function(){n()})),t(".matrix-overlay__link").on({mouseenter:function(){t(".matrix-overlay__link").not(this).removeClass("activePanel").addClass("inactivePanel"),t(this).addClass("activePanel")},mouseleave:function(){t(".matrix-overlay__link").removeClass("activePanel inactivePanel")},click:function(){t("body").removeClass("disable-scroll"),e.setCookie(),n()}})},checkCookies:function(){var i=parseInt(t.cookie(e.viewCount));if(!("true"===t.cookie(e.wsc)||i>4)){var n=document.referrer.match(/https:\/\/[^/]+[\/]/);n&&n[0]===window.location.href||t("#matrix-overlay").addClass("matrix-overlay--visible")}},setCookie:function(){var i=t.cookie(e.viewCount),n=parseInt(i)+1;t.cookie(e.viewCount,n||1,{path:"/",expires:730});var o=t("#hideWsc").prop("checked");t.cookie(e.wsc,o,{path:"/",expires:730})}})}(jQuery);i(135),i(136),i(137),i(138);var s=Vue.component("c-notification-button__icon",{props:["icon"],template:'<div v-bind:class="\'c-iconed__icon--\'+icon" class="c-iconed__icon"></div>'}),r=Vue.component("c-notification-button__text",{props:["button_text"],template:'<span class="c-notification-button__text">{{ button_text }}</span>'}),a=Vue.component("c-notification-button",{props:["button_text","icon","option","acceptanceMethod","type","notificationName"],template:'<div v-on:click="clickHandler" class="c-notification__wrapper-link"><a class="c-notification-button"><c-notification-button__text v-bind:button_text="button_text"></c-notification-button__text><c-notification-button__icon v-bind:icon="icon"></c-notification-button__icon></a></div>',methods:{clickHandler:function(){this.fadeMessage(),new RSI.UserAgreementAcceptanceMethods({notificationName:this.notificationName,option:this.option,type:this.type})[this.acceptanceMethod+"AcceptanceMethod"]()},fadeMessage:function(){var t=$(".js-notification-bar .js-bottom-notif-msg-"+this.notificationName);t.fadeOut(250,(function(){t.remove(),(new RSI.UserAgreement).cleanup()}))}}}),c=Vue.component("c-notification__actions",{props:["notification"],template:'<div v-if="linkText"><div class="c-notification__wrapper-link"><a target="__blank" v-bind:href="linkUrl" class="c-notification__button"><c-notification-button__text v-bind:button_text="linkText"></c-notification-button__text><c-notification-button__icon icon="arrow"></c-notification-button__icon></a></div><span class="c-notification__actions-label">or</span><c-notification-button button_text="Accept And Close" v-bind:notificationName="notificationName" v-bind:acceptanceMethod="acceptanceMethod" v-bind:type="type" icon="checkmark"></c-notification-button></div><div v-else-if="type === \'announcement\'"><c-notification-button button_text="Close" option="close" v-bind:notificationName="notificationName" v-bind:acceptanceMethod="acceptanceMethod" v-bind:type="type" icon="close"></c-notification-button></div><div v-else><c-notification-button button_text="Accept" v-bind:notificationName="notificationName" v-bind:acceptanceMethod="acceptanceMethod" v-bind:type="type" icon="checkmark"></c-notification-button><span class="c-notification__actions-label">or</span><c-notification-button button_text="Close" option="close" v-bind:notificationName="notificationName" v-bind:acceptanceMethod="acceptanceMethod" v-bind:type="type" icon="close"></c-notification-button></div>',data:function(){return{hasLinks:Boolean(this.notification.linkText),linkText:this.notification.linkText,linkUrl:this.notification.linkUrl,acceptanceMethod:this.notification.acceptanceMethod,notificationName:this.notification.notificationName,type:this.notification.type}}}),l=Vue.component("c-notification__content",{props:["notification"],template:'<div class="c-notification__content"><div class="c-notification__title">{{ title }}</div><div v-html="description" class="c-notification__message"></div></div>',data:function(){return{title:this.notification.title,description:this.notification.description}}}),d=Vue.component("l-notification__wrapper",{props:["notification"],template:'<div class="l-notification__wrapper" :key="notificationName"><div v-bind:class="[\'js-bottom-notif-msg-\'+notificationName, \'c-notification--\'+type, \'c-notification--w\']" class="c-notification"><l-notification__inner-wrapper v-bind:notification="notification"></l-notification__inner-wrapper></div></div>',data:function(){return{notificationName:this.notification.notificationName,type:this.notification.type}}}),h=Vue.component("l-notification__inner-wrapper",{props:["notification"],template:'<div class="c-notification__inner-wrapper"><c-notification__content v-bind:notification="notification"></c-notification__content><c-notification__actions class="c-notification__actions" v-bind:notification="notification"></c-notification__actions></div>'}),u=(i(139),i(140),Vue.component("c-notification-bar",{props:["loggedin","onhomepage","latestagreementsslugs"],template:'<div class="l-notification-container"><l-notification__wrapper v-for="notification in notifications" v-bind:notification="notification" :key="notification.name"></l-notification-wrapper></div>',data:function(){return{notifications:[],hasNewsLettersBadge:!1,latestAgreementsSlugs:this.latestagreementsslugs||[]}},created:function(){this.checkIfAgreementFetchRequired()},updated:function(){new RSI.Components.SVG({target:".c-iconed__icon--arrow, .c-iconed__icon--checkmark, .c-iconed__icon--close"})},methods:{checkIfAgreementFetchRequired:function(){if(!this.hasAcceptedAllNotificationBarCookieAgreements()||this.onhomepage)return this.loggedin&&this.onhomepage?this.checkHasNewslettersBadge():void this.fetchCookieAgreements()},checkHasNewslettersBadge:function(){new RSI.Location({}).hasNewslettersBadge(this.handleHasNewslettersBadgeCheck)},fetchAccountUnacceptedUserAgreements:function(){new RSI.UserAgreement({}).fetchAccountUnacceptedUserAgreements(this.handleAccountsUnacceptedUserAgreements)},handleHasNewslettersBadgeCheck:function(t){this.hasNewsLettersBadge=t,this.fetchAccountUnacceptedUserAgreements()},fetchCookieAgreements:function(){new RSI.UserAgreement({}).fetchCookieAgreements(this.handleAccountsUnacceptedUserAgreements)},handleAccountsUnacceptedUserAgreements:function(t){t.data&&(this.notifications=t.data.map(function(t){if(!this.notificationsDisabled(t)&&!this.hasIgnoredNoticeWihinThirtyDays(t)&&!this.isNotACookieAgreementAndUserHasNewsLettersBadge(t.acceptanceMethod))return{acceptanceMethod:t.acceptanceMethod,notificationName:"notification__"+t.type+"__"+t.slug,description:t.description,title:t.title,type:t.type,linkText:t.linkText,linkUrl:t.linkUrl}}.bind(this)).filter(Boolean))},hasIgnoredNoticeWihinThirtyDays:function(t){return document.cookie.indexOf("notification__"+t.type+"__"+t.slug)>-1},isNotACookieAgreementAndUserHasNewsLettersBadge:function(t){return"cookie"!==t&&this.hasNewsLettersBadge},notificationsDisabled:function(t){return"1"!==t.enableNotification},hasAcceptedAllNotificationBarCookieAgreements:function(){return this.latestAgreementsSlugs.every((function(t){return document.cookie.indexOf(t)>=0}))}}}));window.addEventListener("load",(function(){new Vue({el:"#notification-bar-root",components:{NotificationContainer:u,NotificationWrapper:d,NotificationInnerWrapper:h,NotificationContent:l,NotificationActions:c,NotificationButton:a,NotificationButtonText:r,NotificationButtonIcon:s}})}))}]);
//# sourceMappingURL=rsi.core.build.804b0.js.map